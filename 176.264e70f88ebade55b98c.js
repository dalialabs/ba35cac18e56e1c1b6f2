"use strict";(self.webpackChunkmaia_node=self.webpackChunkmaia_node||[]).push([[176],{52176:(t,e,i)=>{i.r(e),i.d(e,{default:()=>E});i(30050),i(59749),i(81919),i(99474),i(35082),i(40739),i(89730),i(34284),i(77049),i(86544),i(84254);var n=i(4942),o=i(42982),s=i(70885),a=i(15861),r=i(15671),c=i(43144),l=i(82963),u=i(97326),h=i(11752),m=i(61120),f=i(79340),d=i(64687),p=i.n(d),g=(i(41517),i(49693),i(60228),i(47522),i(64043),i(22462),i(57267),i(752),i(21694),i(76265),i(78730),i(79307),i(96869),i(39772),i(34338),i(6203),i(76801),i(43843),i(38077),i(69358),i(50886),i(60429),i(73964),i(28436),i(63975),i(38320),i(30024),i(12826),i(55659)),v=i(45643),y={easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)}},k=function(){function t(e){(0,r.Z)(this,t);this.options=Object.assign({},{document:null,el:"",type:"infinite",count:20,sensitivity:.8,source:[],value:null,onChange:null},e),this.options.count=this.options.count-this.options.count%4,Object.assign(this,this.options),this.halfCount=this.options.count/2,this.quarterCount=this.options.count/4,this.a=10*this.options.sensitivity,this.minV=Math.sqrt(1/this.a),this.selected=this.source[0],this.exceedA=10,this.moveT=0,this.moving=!1,this.elems={el:this.options.document.querySelector(this.options.el),circleList:null,circleItems:null,highlight:null,highlightList:null,highListItems:null},this.events={touchstart:null,touchmove:null,touchend:null},this.itemHeight=3*this.elems.el.offsetHeight/this.options.count,this.itemAngle=360/this.options.count,this.radius=this.itemHeight/Math.tan(this.itemAngle*Math.PI/180),this.scroll=0,this._init()}var e;return(0,c.Z)(t,[{key:"_init",value:function(){var t=this;this._create(this.options.source);var e={startY:0,yArr:[]};for(var i in this.events)this.events[i]=function(i){return function(n){(t.elems.el.contains(n.target)||n.target===t.elems.el)&&(n.preventDefault(),t.source.length&&t["_"+i](n,e))}}(i);this.elems.el.addEventListener("touchstart",this.events.touchstart),this.options.document.addEventListener("mousedown",this.events.touchstart),this.elems.el.addEventListener("touchend",this.events.touchend),this.options.document.addEventListener("mouseup",this.events.touchend),this.source.length&&(this.value=null!==this.value?this.value:this.source[0].value,this.select(this.value))}},{key:"_touchstart",value:function(t,e){this.elems.el.addEventListener("touchmove",this.events.touchmove),this.options.document.addEventListener("mousemove",this.events.touchmove);var i=t.clientY||t.touches[0].clientY;e.startY=i,e.yArr=[[i,(new Date).getTime()]],e.touchScroll=this.scroll,this._stop()}},{key:"_touchmove",value:function(t,e){var i=t.clientY||t.touches[0].clientY;e.yArr.push([i,(new Date).getTime()]),e.length>5&&e.unshift();var n=(e.startY-i)/this.itemHeight+this.scroll;"normal"===this.type?n<0?n*=.3:n>this.source.length&&(n=this.source.length+.3*(n-this.source.length)):n=this._normalizeScroll(n),e.touchScroll=this._moveTo(n)}},{key:"_touchend",value:function(t,e){var i;if(this.elems.el.removeEventListener("touchmove",this.events.touchmove),this.options.document.removeEventListener("mousemove",this.events.touchmove),1===e.yArr.length)i=0;else{var n=e.yArr[e.yArr.length-2][1],o=e.yArr[e.yArr.length-1][1],s=(i=(e.yArr[e.yArr.length-2][0]-e.yArr[e.yArr.length-1][0])/this.itemHeight*1e3/(o-n))>0?1:-1;i=Math.abs(i)>30?30*s:i}this.scroll=e.touchScroll,this._animateMoveByInitV(i)}},{key:"_create",value:function(t){if(t.length){var e='\n      <div class="select-wrap">\n        <ul class="select-options" style="transform: translate3d(0, 0, '.concat(-this.radius,'px) rotateX(0deg);">\n          {{circleListHTML}}\n        </ul>\n        <div class="highlight">\n          <ul class="highlight-list">\n            {{highListHTML}}\n          </ul>\n        </div>\n      </div>\n    ');if("infinite"===this.options.type){for(var i=[].concat(t);i.length<this.halfCount;)i=i.concat(t);t=i}this.source=t;for(var n=t.length,o="",s=0;s<t.length;s++)o+='\n      <li\n      class="select-option"\n      style="\n        top: '.concat(-.5*this.itemHeight,"px;\n        height: ").concat(this.itemHeight,"px;\n        line-height: ").concat(this.itemHeight,"px;\n        transform: rotateX(").concat(-this.itemAngle*s,"deg) translate3d(0, 0, ").concat(this.radius,'px);"\n      data-index="').concat(s,'"\n      >').concat(t[s].text,"</li>");for(var a="",r=0;r<t.length;r++)a+='<li class="highlight-item" style="height: '.concat(this.itemHeight,'px;">\n                        ').concat(t[r].text,"\n                      </li>");if("infinite"===this.options.type){for(var c=0;c<this.quarterCount;c++)o='<li class="select-option"\n                      style="\n                        top: '.concat(-.5*this.itemHeight,"px;\n                        height: ").concat(this.itemHeight,"px;\n                        line-height: ").concat(this.itemHeight,"px;\n                        transform: rotateX(").concat(this.itemAngle*(c+1),"deg) translate3d(0, 0, ").concat(this.radius,'px);\n                      "\n                      data-index="').concat(-c-1,'"\n                      >').concat(t[n-c-1].text,"</li>")+o,o+='<li class="select-option"\n                      style="\n                        top: '.concat(-.5*this.itemHeight,"px;\n                        height: ").concat(this.itemHeight,"px;\n                        line-height: ").concat(this.itemHeight,"px;\n                        transform: rotateX(").concat(-this.itemAngle*(c+n),"deg) translate3d(0, 0, ").concat(this.radius,'px);\n                      "\n                      data-index="').concat(c+n,'"\n                      >').concat(t[c].text,"</li>");a='<li class="highlight-item" style="height: '.concat(this.itemHeight,'px;">\n                          ').concat(t[n-1].text,"\n                      </li>")+a,a+='<li class="highlight-item" style="height: '.concat(this.itemHeight,'px;">').concat(t[0].text,"</li>")}this.elems.el.innerHTML=e.replace("{{circleListHTML}}",o).replace("{{highListHTML}}",a),this.elems.circleList=this.elems.el.querySelector(".select-options"),this.elems.circleItems=this.elems.el.querySelectorAll(".select-option"),this.elems.highlight=this.elems.el.querySelector(".highlight"),this.elems.highlightList=this.elems.el.querySelector(".highlight-list"),this.elems.highlightitems=this.elems.el.querySelectorAll(".highlight-item"),"infinite"===this.type&&(this.elems.highlightList.style.top=-this.itemHeight+"px"),this.elems.highlight.style.height=this.itemHeight+"px",this.elems.highlight.style.lineHeight=this.itemHeight+"px"}}},{key:"_normalizeScroll",value:function(t){for(var e=t;e<0;)e+=this.source.length;return e%=this.source.length}},{key:"_moveTo",value:function(t){var e=this;return"infinite"===this.type&&(t=this._normalizeScroll(t)),this.elems.circleList.style.transform="translate3d(0, 0, ".concat(-this.radius,"px) rotateX(").concat(this.itemAngle*t,"deg)"),this.elems.highlightList.style.transform="translate3d(0, ".concat(-t*this.itemHeight,"px, 0)"),(0,o.Z)(this.elems.circleItems).forEach(function(i){Math.abs(i.dataset.index-t)>e.quarterCount?i.style.visibility="hidden":i.style.visibility="visible"}),t}},{key:"_animateMoveByInitV",value:(e=(0,a.Z)(p().mark(function t(e){var i,n,o,s,a;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("normal"!==this.type){t.next=25;break}if(!(this.scroll<0||this.scroll>this.source.length-1)){t.next=13;break}return s=this.exceedA,i=this.scroll,n=this.scroll<0?0:this.source.length-1,o=i-n,a=Math.sqrt(Math.abs(o/s)),e=s*a,e=this.scroll>0?-e:e,t.next=11,this._animateToScroll(i,n,a);case 11:t.next=23;break;case 13:return i=this.scroll,s=e>0?-this.a:this.a,a=Math.abs(e/s),o=e*a+s*a*a/2,n=(n=Math.round(this.scroll+o))<0?0:n>this.source.length-1?this.source.length-1:n,o=n-i,a=Math.sqrt(Math.abs(o/s)),t.next=23,this._animateToScroll(this.scroll,n,a,"easeOutQuart");case 23:t.next=32;break;case 25:return i=this.scroll,s=e>0?-this.a:this.a,a=Math.abs(e/s),o=e*a+s*a*a/2,n=Math.round(this.scroll+o),t.next=32,this._animateToScroll(this.scroll,n,a,"easeOutQuart");case 32:this._selectByScroll(this.scroll);case 33:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"_animateToScroll",value:function(t,e,i){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"easeOutQuart";if(t!==e&&0!==i){var s=(new Date).getTime()/1e3,a=0,r=e-t;return new Promise(function(e,c){n.moving=!0;!function c(){(a=(new Date).getTime()/1e3-s)<i?(n.scroll=n._moveTo(t+y[o](a/i)*r),n.moveT=window.requestAnimationFrame(c)):(e(),n._stop(),n.scroll=n._moveTo(t+r))}()})}this._moveTo(t)}},{key:"_stop",value:function(){this.moving=!1,window.cancelAnimationFrame(this.moveT)}},{key:"_selectByScroll",value:function(t){(t=0|this._normalizeScroll(t))>this.source.length-1&&(t=this.source.length-1,this._moveTo(t)),this._moveTo(t),this.scroll=t,this.selected=this.source[t],this.value=this.selected.value,this.onChange&&this.onChange(this.selected)}},{key:"updateSource",value:function(t){this._create(t),this.moving||this._selectByScroll(this.scroll)}},{key:"select",value:function(t){for(var e,i=this,n=function(e){if(i.source[e].value===t){window.cancelAnimationFrame(i.moveT);var n=i._normalizeScroll(i.scroll),o=e,s=Math.sqrt(Math.abs((o-n)/i.a));return i._animateToScroll(n,o,s),setTimeout(function(){return i._selectByScroll(e)}),{v:void 0}}},o=0;o<this.source.length;o++)if(e=n(o))return e.v;throw new Error("can not select value: ".concat(t,", ").concat(t," match nothing in current source"))}},{key:"destroy",value:function(){for(var t in this._stop(),this.events)this.elems.el.removeEventListener("eventName",this.events[t]);this.options.document.removeEventListener("mousedown",this.events.touchstart),this.options.document.removeEventListener("mousemove",this.events.touchmove),this.options.document.removeEventListener("mouseup",this.events.touchend),this.elems.el.innerHTML="",this.elems=null}}]),t}(),b=i(50783);function x(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,r=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){r=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(r)throw s}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function T(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach(function(e){(0,n.Z)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function S(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(S=function(){return!!t})()}var E=function(t){function e(t){var i,n,o,s,a=t.document,c=t.formRoot,h=t.data;return(0,r.Z)(this,e),n=this,o=e,s=[{document:a,formRoot:c,data:h}],o=(0,m.Z)(o),(i=(0,l.Z)(n,S()?Reflect.construct(o,s||[],(0,m.Z)(n).constructor):o.apply(n,s))).document=a,i.data=h,i.customSelectors=[".done",function(t){return t.addEventListener("click",i.formPrevPage.bind((0,u.Z)(i)),!1)}],i.loadCustomCss(),i.loadToken(),i.handleBackButton(),i.fetchExperienceTemplate(),i.form$$(".form-control").forEach(function(t){t.addEventListener("keyup",i.formInputKeyUp.bind((0,u.Z)(i)))}),i}var i,n,d,g,y,_,w,E,L;return(0,f.Z)(e,t),(0,c.Z)(e,[{key:"createForm",value:(L=(0,a.Z)(p().mark(function t(){return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,h.Z)((0,m.Z)(e.prototype),"createForm",this).call(this,this.document,this.data);case 2:this.loadCustomEvents();case 3:case"end":return t.stop()}},t,this)})),function(){return L.apply(this,arguments)})},{key:"initForm",value:function(){(0,h.Z)((0,m.Z)(e.prototype),"initForm",this).call(this),this.onRender()}},{key:"handleBackButton",value:function(){var t=this;window.addEventListener("popstate",function(e){e.preventDefault(),e.stopImmediatePropagation(),t.navigateToPage(t.form.page-1,!1)},!1)}},{key:"loadCustomCss",value:function(){var t=this,e=["".concat(this.getOrigin(),"/css/lib/ios-selector.css"),"".concat(this.getOrigin(),"/css/forms/instant-resume.css")];["https://fonts.googleapis.com/css2?family=Work+Sans:wght@565&display=swap","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.css"].forEach(function(e){t.loadStyle(e)}),e.forEach(function(e){t.loadCss(e)})}},{key:"beforeNext",value:function(t,e,i){this.formsEvent.track(t.component.key,{token:this.token||null}),i()}},{key:"attachComponent",value:function(t,e){if(e.component.label&&e.component.label.match(/\[(.*?)\]/g)){var i=e.component.label.match(/\[(.*?)\]/g);if(i&&i.length){var n=i[0].replace(/\[|\]/g,"").split("."),o=(0,s.Z)(n,3),a=o[0],r=o[1],c=o[2];e.component.label="experiences"===a?e.component.label.replace(i[0],this.getExperience(r,c)):e.component.label.replace(i[0],this.form.submission.data[c]||this.oldResume[c]||"")}}}},{key:"loadToken",value:(E=(0,a.Z)(p().mark(function t(){var e,i,n,o=this;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oldResume={},e=new window.URL(window.location.href),t.t0=e.searchParams.get("token"),t.t0){t.next=7;break}return t.next=6,v.default.getItem("dalia_resume_token");case 6:t.t0=t.sent;case 7:if(i=t.t0,n=e.searchParams.get("page"),!i||void 0===i){t.next=13;break}return this.token=i,t.next=13,this.findResumeByToken(i);case 13:n&&void 0!==n&&this.navigateToPage(n),this.toggleLoading(!0),setTimeout(function(){o.showForm(),o.toggleLoading(!1)},this.config.resume.defaultTimeoutMs);case 16:case"end":return t.stop()}},t,this)})),function(){return E.apply(this,arguments)})},{key:"navigateToPage",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.toggleLoading(!0),isNaN(t)&&(t=(this.form.allPages.findIndex(function(e){return e.component.key===t})||0)+1),this.form.setPage(t),setTimeout(function(){e.loadCustomInputs(),i&&e.updateUrl(),e.replaceTexts(),e.toggleLoading(!1)},this.config.resume.defaultTimeoutMs)}},{key:"loadCustomEvents",value:function(){var t=this;["exportResumeLocal","gotoNextPage","skipOnePage","advanceToSkills","gotoJobExperience","gotoSummary","skipEducation"].forEach(function(e){t.form.on(e,t[e].bind(t))})}},{key:"onRender",value:function(){var t=this;setTimeout(function(){(0,o.Z)(t.form$$(".navigate-to-page")).forEach(function(e){e.addEventListener("click",function(){return t.navigateToPage(t.config.resume[e.dataset.page])},!1)})},this.config.resume.defaultTimeoutMs)}},{key:"skipOnePage",value:function(){this.navigateToPage(this.form.page+2)}},{key:"gotoJobExperience",value:function(){this.navigateToPage(this.config.resume.jobExperiencePage)}},{key:"gotoSummary",value:function(){this.navigateToPage(this.config.resume.summaryPage)}},{key:"skipEducation",value:(w=(0,a.Z)(p().mark(function t(){return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.form.submission.data.college_name=null,t.next=3,this.patchFormValues(this.form.submission);case 3:this.navigateToPage(this.config.resume.summaryPage);case 4:case"end":return t.stop()}},t,this)})),function(){return w.apply(this,arguments)})},{key:"exportResumeLocal",value:(_=(0,a.Z)(p().mark(function t(e){return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.location.assign("".concat(this.config.submitEndPoint,"/download/").concat(this.token));case 1:case"end":return t.stop()}},t,this)})),function(t){return _.apply(this,arguments)})},{key:"onFormSubmit",value:(y=(0,a.Z)(p().mark(function t(e){return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.patchFormValues(e);case 2:case"end":return t.stop()}},t,this)})),function(t){return y.apply(this,arguments)})},{key:"gotoNextPage",value:(g=(0,a.Z)(p().mark(function t(e){var i=this;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.customValidation()||!this.form.checkValidity(null,!0,null,!0)){t.next=5;break}return t.next=3,this.patchFormValues(this.form.submission);case 3:this.form.nextPage(),setTimeout(function(){i.setResumeData(),i.loadCustomInputs(),i.updateUrl(),i.replaceTexts()},this.config.resume.defaultTimeoutMs);case 5:case"end":return t.stop()}},t,this)})),function(t){return g.apply(this,arguments)})},{key:"advanceToSkills",value:(d=(0,a.Z)(p().mark(function t(){return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.navigateToPage(this.config.resume.skillsPage);case 1:case"end":return t.stop()}},t,this)})),function(){return d.apply(this,arguments)})},{key:"updateUrl",value:function(){if(window.history.pushState&&this.token&&this.form.page){var t=window.location.protocol+"//"+window.location.host+window.location.pathname+"?token=".concat(this.token,"&page=").concat(this.form.page);window.history.pushState({path:t},"",t)}}},{key:"customValidation",value:function(){var t=this.form$(".dalia-forms-location");if(t&&!this.formValues.location)return this.customLocationValidation(t),!1;var e=this.form$("input-job-title");if(e){var i=e.querySelector("input"),n=i.id.split("-")[0];if(!i.value&&i.required)return this.customJobTitleValidation("* Please provide a valid ".concat(n.split("_").join(" ")),"#".concat(i.id))}return!0}},{key:"customLocationValidation",value:function(t){var e=this.form$(".location-validation-wrapper");t.querySelector(this.mapboxInputSelector).value?e.querySelector(".custom-validation").classList.add("d-none"):e.querySelector(".custom-validation").classList.remove("d-none")}},{key:"prevPageCallback",value:function(){var t=this;this.onBackCustomLogic(),this.toggleLoading(!0),setTimeout(function(){t.setResumeData(),t.loadCustomInputs(),t.updateUrl(),t.replaceTexts(),t.toggleLoading(!1)},this.config.resume.defaultTimeoutMs)}},{key:"onBackCustomLogic",value:function(){var t=this.form.allPages[this.form.page-1].component.key;if(t.includes("resume-transition")&&(this.navigateToPage(this.form.page-1),this.onBackCustomLogic()),t.includes("resume-experience-ending")){var e=this.getExperiencesCount();e<3?(this.navigateToPage("resume-experience-ending-".concat(e)),this.onBackCustomLogic()):this.navigateToPage(this.form.page-1)}return t.includes("resume-skills-education-")&&(this.form.submission.data.college_name||this.navigateToPage("resume-skills-education")),t.includes("resume-skills-education-other")&&this.form.submission.data.education&&(this.navigateToPage(this.form.page-1),this.onBackCustomLogic()),t.includes("resume-skills-certifications-other")&&(this.form.submission.data.other_certificates||(this.navigateToPage(this.form.page-1),this.onBackCustomLogic())),!1}},{key:"formInputKeyUp",value:function(t){if(13===t.keyCode){t.preventDefault();var e=this.form.pages[this.form.page].components.filter(function(t){return t.isInputComponent}),i=t.path[0].widget.component.key,n=e.findIndex(function(t){return t.component.key===i});if(n!==e.length-1){var o=e[n+1];"button"===o.type?o.refs.button.click():o.refs.input[0].focus()}}}},{key:"patchFormValues",value:(n=(0,a.Z)(p().mark(function t(e){var i,n,o,s,a,r,c,l;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=["email","advance","ignore"],n={},this.patchJobTitle(),Object.keys(e.data).forEach(function(t){i.includes(t)||(n[t]=e.data[t])}),o=0,s=Object.keys(this.formValues);o<s.length;o++)a=s[o],n[a]=this.formValues[a];return this.form.currentNextPage===this.form.allPages.length-1?n.is_complete=!0:delete n.is_complete,r={email:e.data.email,token:this.token||null,body:this.beforeSubmission(n)},this.toggleLoading(!0),t.next=10,Formio.fetch(this.config.submitEndPoint,{body:JSON.stringify(r),method:this.token?"PATCH":"POST",mode:"cors",headers:{"Content-Type":"application/json"}});case 10:return c=t.sent,t.next=13,c.json();case 13:if(l=t.sent,this.toggleLoading(!1),!l.data||!l.data.token){t.next=19;break}return t.next=18,v.default.setItem("dalia_resume_token",l.data.token);case 18:this.token=l.data.token;case 19:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"beforeSubmission",value:function(t){var e=this;return t.college_name||(delete t.graduation_month,delete t.graduation_year),this.form.submission.data.experiences.forEach(function(t,i){t.still_work_at=e.form.submission.data[i+"-still_work_at"]||e.form.submission.data[i+"-still_work_at2"],t.job_parts=e.form.submission.data["job_experiences_".concat(i+1)].map(function(t){return t.part_of_job_was})}),t}},{key:"patchJobTitle",value:function(){var t=this.form$("input-job-title");if(t){var e=t.querySelector("input"),i=e.id.split("-"),n=(0,s.Z)(i,2),o=n[0],a=n[1];a?this.setExperience(a,o,e.value):(this.form.submission.data[o]=e.value,this.form.setSubmission({data:this.form.submission.data}))}}},{key:"findResumeByToken",value:(i=(0,a.Z)(p().mark(function t(e){var i,n;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Formio.fetch("".concat(this.config.submitEndPoint,"/").concat(e),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});case 2:return i=t.sent,t.next=5,i.json();case 5:(n=t.sent).data&&n.data.resume&&(this.oldResume=T({email:n.data.resume.email},n.data.resume.body),this.setResumeData(this.oldResume));case 7:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"setResumeData",value:function(t){var e=this;t&&(Object.assign(this.form.submission.data,t),this.form.setSubmission({data:this.form.submission.data})),setTimeout(function(){e.form$(e.mapboxInputSelector)&&e.oldResume&&e.oldResume.location&&(e.formValues.location=e.oldResume.location,e.setLocation(e.oldResume),e.form$(e.mapboxInputSelector).value=e.oldResume.location)},this.config.defaultTimeoutMs)}},{key:"getRandomJobTips",value:function(){var t=Math.floor(Math.random()*this.config.resume.resumeJobTips.length);return this.config.resume.resumeJobTips[t]}},{key:"fetchExperienceTemplate",value:function(){var t=this;window.fetch("".concat(v.default.getFullUrl(document).origin,"/html/instant-resume/job-experience.html")).then(function(t){return t.text()}).then(function(e){t.experienceTemplate=e})}},{key:"getJobExperiences",value:function(){var t=this,e=[],i=this.form.submission.data.experiences||this.oldResume.experiences;return i&&i.length&&i.forEach(function(i){if(i.job_title&&i.company_name){var n=t.experienceTemplate.replace(/job_title/g,i.job_title).replace(/company_name/g,i.company_name).replace(/duration/g,t.formatExperienceDates(i)),o=i.job_parts.filter(function(t){return t.trim()});n=n.replace(/job_parts/g,o.map(function(t){return'<li class="text-capitalize">'.concat(t,"</li>")}).join("")),e.push(n)}}),e.join(" ")}},{key:"formatExperienceDates",value:function(t){return t.start_working_month&&t.start_working_year&&!t.stop_working_month&&!t.stop_working_year?"".concat(t.start_working_month," ").concat(t.start_working_year," - Current"):t.stop_working_month&&t.stop_working_year?"".concat(t.start_working_month," ").concat(t.start_working_year," - ").concat(t.stop_working_month," ").concat(t.stop_working_year):""}},{key:"getExperience",value:function(t,e){return Array.isArray(this.form.submission.data.experiences)?this.form.submission.data.experiences[t][e]||"":Array.isArray(this.oldResume.experiences)&&this.oldResume.experiences[t][e]||""}},{key:"getExperiencesCount",value:function(){return this.form.submission.data.experiences.filter(function(t){return t.company_name&&t.job_title&&t.start_working_month&&t.start_working_year}).length}},{key:"setExperience",value:function(t,e,i){var n=this.form.submission.data.experiences[t]||this.oldResume.experiences[t];n&&(n[e]=i,Object.assign(this.form.submission.data.experiences[t],n),this.form.setSubmission({data:this.form.submission.data}))}},{key:"getEducations",value:function(){var t=this.formatKeysList("certifications"),e=v.default.humanize(this.form.submission.data.education||this.oldResume.education||""),i=this.form.submission.data.education_details||this.oldResume.education_details,n=this.form.submission.data.other_certificates||this.oldResume.other_certificates,o=this.form.submission.data.college_name||this.oldResume.college_name,s=this.form.submission.data.graduation_month||this.oldResume.graduation_month,a=this.form.submission.data.graduation_year||this.oldResume.graduation_year;return e&&o&&(e="".concat(e,"<div class='fs-1-1'>").concat(o," (").concat(s," - ").concat(a,")</div><br >")),[e,i,t,n&&n.split(",").map(function(t){return'<li class="text-capitalize">'.concat(t,"</li>")}).join("")].join("")}},{key:"getSkills",value:function(){return this.formatKeysList("skills")}},{key:"formatKeysList",value:function(t){var e=this.form.submission.data[t]||this.oldResume[t];if(e&&Object.keys(e).length){var i=Object.keys(e).filter(function(t){return e[t]});if(i.length)return i.map(function(t){return'<li class="text-capitalize">'.concat(t.replaceAll("_"," "),"</li>")}).join("")}}},{key:"getYears",value:function(t,e){var i=(new Date).getFullYear()+1,n=[],o=this.config.resume.iosDateStartYear>=i?i-40:this.config.resume.iosDateStartYear;t&&e&&e.includes("stop")&&(o=this.getExperience(t,"start_working_year"));for(var s=o;s<i;s++)n.push({value:s.toString(),text:s});return n}},{key:"getMonths",value:function(){var t=[];return["January","February","March","April","May","June","July","August","September","October","November","December"].forEach(function(e){t.push({value:e,text:e})}),t}},{key:"loadCustomInputs",value:function(){var t=this;setTimeout(function(){t.form$(".date-selector")&&t.customDateSelector()},this.config.resume.defaultTimeoutMs);var e=this.form$("#checkbox input");e&&e.addEventListener("change",function(){setTimeout(function(){t.form$("#date-selector-month").hasChildNodes()||t.customDateSelector()},t.config.resume.defaultTimeoutMs)});var i=this.form$(".dalia-forms-location");if(i){var n=i.querySelector(this.mapboxInputSelector);!n.value&&this.formValues.location&&(n.value=this.formValues.location)}}},{key:"customDateSelector",value:function(){var t,e,i=this,n=this.form$("#date-selector-month"),o=this.form$("#date-selector-year"),a=n.dataset.key,r=o.dataset.key,c=a.split("-"),l=(0,s.Z)(c,2),u=l[0],h=l[1],m=r.split("-"),f=(0,s.Z)(m,2),d=f[0],p=f[1],g=this.getYears(d,p),v=this.getMonths(),y=p&&(this.getExperience(d,p)||g[g.length-2].value)||this.form.submission.data[d]||this.oldResume[d]||g[g.length-2].value,x=h&&(this.getExperience(u,h)||v[v.length-2].value)||this.form.submission.data[u]||this.oldResume[u]||v[v.length-2].value;return p&&h?(this.setExperience(d,p,y),this.setExperience(u,h,x)):(this.form.submission.data[d]=y,this.form.submission.data[u]=x),b.Z.isMobile()?(t=new k({document:this.formRoot,el:"#date-selector-year",type:"infinite",source:g,count:20,value:y.toString(),onChange:function(t){p&&i.setExperience(d,p,t.value)||(i.form.submission.data[d]=t.value)}}),e=new k({document:this.formRoot,el:"#date-selector-month",type:"infinite",source:v,count:20,value:x,onChange:function(t){h&&i.setExperience(u,h,t.value)||(i.form.submission.data[u]=t.value)}})):(n.querySelector("select")||n.appendChild(this.createSelect(v,x,h,u)),o.querySelector("select")||o.appendChild(this.createSelect(g,y,p,d))),{customYearSelector:t,customMonthSelector:e}}},{key:"createSelect",value:function(t,e,i,n){var o=this,s=document.createElement("select");s.classList.add("form-control");var a,r=x(t);try{for(r.s();!(a=r.n()).done;){var c=a.value,l=document.createElement("option");l.value=c.value,l.text=c.text,c.value.toString()===e.toString()&&(l.selected=!0),s.appendChild(l)}}catch(t){r.e(t)}finally{r.f()}return s.addEventListener("change",function(){i&&o.setExperience(n,i,s.value)||(o.form.submission.data[n]=s.value)}),s}}]),e}(g.default)},39772:(t,e,i)=>{var n=i(79989),o=i(2960).findIndex,s=i(87370),a="findIndex",r=!0;a in[]&&Array(1)[a](function(){r=!1}),n({target:"Array",proto:!0,forced:r},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),s(a)},56532:(t,e,i)=>{var n=i(79989),o=i(22615),s=i(68844),a=i(74684),r=i(69985),c=i(981),l=i(91245),u=i(34327),h=i(54849),m=i(63477),f=i(27017),d=i(44201),p=i(53931),g=d("replace"),v=TypeError,y=s("".indexOf),k=s("".replace),b=s("".slice),x=Math.max;n({target:"String",proto:!0},{replaceAll:function(t,e){var i,n,s,d,_,w,T,S,E,L=a(this),P=0,j=0,C="";if(!c(t)){if((i=l(t))&&(n=u(a(m(t))),!~y(n,"g")))throw new v("`.replaceAll` does not allow non-global regexes");if(s=h(t,g))return o(s,t,L,e);if(p&&i)return k(u(L),t,e)}for(d=u(L),_=u(t),(w=r(e))||(e=u(e)),T=_.length,S=x(1,T),P=y(d,_);-1!==P;)E=w?u(e(_,P,d)):f(_,d,P,[],void 0,e),C+=b(d,j,P)+E,j=P+T,P=P+S>d.length?-1:y(d,_,P+S);return j<d.length&&(C+=b(d,j)),C}})},38320:(t,e,i)=>{i(56532)}}]);