(self.webpackChunkmaia_node=self.webpackChunkmaia_node||[]).push([[659,47,894,488,153],{23047:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>k});n(30050),n(69358),n(59749),n(81919),n(99474),n(35082),n(40739);var i=n(4942),o=n(42982),a=n(70885),r=n(15861),s=n(15671),c=n(43144),l=n(82963),u=n(61120),d=n(79340),h=n(64687),f=n.n(h),p=(n(30024),n(49693),n(60228),n(47522),n(752),n(73964),n(21694),n(76265),n(34338),n(34284),n(38077),n(76801),n(43843),n(50886),n(1937));function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach(function(e){(0,i.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(g=function(){return!!t})()}var b="DaliaNSDataLayer",y="DaliaNSAnalyticsLayer",w="DaliaNSDefault";const k=function(t){function e(t){var n,i,o,a,r=t.document,c=t.data,d=t.clientGaEvents;return(0,s.Z)(this,e),i=this,o=e,a=[{document:r}],o=(0,u.Z)(o),(n=(0,l.Z)(i,g()?Reflect.construct(o,a||[],(0,u.Z)(i).constructor):o.apply(i,a))).data=c,n.formModel=c.form,n.clientGaEvents=d,window[b]=window[b]||[],window[y]=window[y]||[],n.gtag("js",new Date),n.gtag("config",n.data.GoogleMeasurementId,{groups:w}),n.initCustomEvents(),n.selfInit(),n}var i,h,p,m;return(0,d.Z)(e,t),(0,c.Z)(e,[{key:"initCustomEvents",value:function(){var t=this;this.clientGaEvents.forEach(function(e){"gtag"===e.type?t.gtag("config",e.measurementId,{groups:e.group}):"analytics"===e.type&&(t.ga("l",new Date),t.ga("create",e.measurementId,"auto",e.group),t.ga("send","pageview"))})}},{key:"selfInit",value:(m=(0,r.Z)(f().mark(function t(){var e,i,o;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(84).then(n.t.bind(n,22084,23)),this.tryLoadAnalyticsScripts()]);case 2:e=t.sent,i=(0,a.Z)(e,1),o=i[0],this.mixpanel=o.default.init(this.data.MixPanelToken,{},"dalia-mixpanel"),this.selfInitDone=!0;case 7:case"end":return t.stop()}},t,this)})),function(){return m.apply(this,arguments)})},{key:"tryLoadAnalyticsScripts",value:(p=(0,r.Z)(f().mark(function t(){var e;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("load"!==(e=this.canLoadAnalyticsScripts())){t.next=6;break}return t.next=4,this.loadAnalyticsScripts();case 4:t.next=7;break;case 6:"wait"===e&&this.waitForCookiesConsent();case 7:case"end":return t.stop()}},t,this)})),function(){return p.apply(this,arguments)})},{key:"canLoadAnalyticsScripts",value:function(){var t=this.formModel.config.checkCookiesConsent;if(null!=t&&t.enabled){var e=t.consentAcceptedCookies,n=void 0===e?{}:e,i=t.consentAnsweredCookies,o=this.validateCookies(n);if(!(null!=i?this.validateCookies(i):o))return"wait";if(!o)return"skip"}return"load"}},{key:"loadAnalyticsScripts",value:(h=(0,r.Z)(f().mark(function t(){return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.loadScript("https://www.googletagmanager.com/gtag/js?l=".concat(b,"&id=").concat(this.data.GoogleMeasurementId))].concat((0,o.Z)(this.loadCustomGaScripts())));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return h.apply(this,arguments)})},{key:"waitForCookiesConsent",value:function(){var t,e=this,n=null!==(t=this.formModel.config.checkCookiesConsent)&&void 0!==t?t:{},i=n.checkInterval,o=n.checkTimeout,a=this.listenForCookieChanges(function(){var t=e.canLoadAnalyticsScripts();"load"===t?(a(),e.loadAnalyticsScripts().then()):"skip"===t&&a()},i,o)}},{key:"gtag",value:function(){window[b].push(arguments)}},{key:"ga",value:function(){window[y].push(arguments)}},{key:"setMixpanelUserId",value:function(t){this.mixpanel.alias(t);try{this.mixpanel.people.set({$name:t,userId:t})}catch(t){}this.mixpanel.identify(t)}},{key:"setGoogleAnalyticsUserId",value:function(t){this.gtag("config","GA_MEASUREMENT_ID",{user_id:t})}},{key:"setUserIdForTrackers",value:function(t){this.setMixpanelUserId(t),this.setGoogleAnalyticsUserId(t)}},{key:"track",value:(i=(0,r.Z)(f().mark(function t(e){var n,i,o,a,r,s,c,l=arguments;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:{},this.selfInitDone){t.next=4;break}return t.next=4,this.selfInit();case 4:i=n.userId,o=void 0===i?null:i,a=n.params,r=void 0===a?{}:a,o&&this.setUserIdForTrackers(o),s=v({close_to_button_enabled:this.formModel.config.buttonEnabled,close_to_button_always_shown:this.formModel.config.buttonEnabledAlways,widget_type:"exit-form",client_name:this.formModel.Client.name},this.formModel.config.eventsAttributes),c=v(v({},s),r),this.gtag("event",e,v(v({},c),{},{send_to:w})),this.sendCustomClientsEvents(e,c),this.mixpanel.track(e,c),document.dispatchEvent(new Event(e,c));case 12:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"sendCustomClientsEvents",value:function(t,e){var n=this;this.getAllowedEvents(t).forEach(function(i){"gtag"===i.type?n.gtag("event","dalia_".concat(t),v(v({},e),{},{send_to:i.group})):"analytics"===i.type&&n.ga("".concat(i.group,".send"),"event","dalia_".concat(t),e)})}},{key:"getAllowedEvents",value:function(t){return this.clientGaEvents.filter(function(e){return e.eventsToTrack.includes(t)})}},{key:"loadCustomGaScripts",value:function(){var t=this;return this.clientGaEvents.map(function(e){"gtag"===e.type?t.loadScript("https://www.googletagmanager.com/gtag/js?l=".concat(b,"&id=").concat(e.measurementId)):"analytics"===e.type&&t.loadScript("https://www.google-analytics.com/analytics.js")})}}]),e}(p.default)},55659:(t,e,n)=>{"use strict";n.r(e),n.d(e,{RvpVariants:()=>Z,default:()=>O});n(30050),n(59749),n(81919),n(99474),n(35082),n(40739),n(77049),n(86544),n(84254);var i=n(70885),o=n(4942),a=n(42982),r=n(15861),s=n(15671),c=n(43144),l=n(82963),u=n(97326),d=n(11752),h=n(61120),f=n(79340),p=n(64687),m=n.n(p),v=(n(41830),n(98742),n(60228),n(76801),n(43843),n(38077),n(50886),n(28436),n(52003),n(64043),n(12826),n(6203),n(49693),n(47522),n(41517),n(73964),n(278),n(34338),n(25728),n(268),n(57267),n(96869),n(72410),n(34284),n(752),n(21694),n(76265),n(63975),n(30024),n(89730),n(36409),n(79307),n(61514),n(85415),n(36585),n(22462),n(78730),n(69358),n(65137),n(1937)),g=n(45643),b=n(23047);function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(y=function(){return!!t})()}const w=function(t){function e(t){var n,i,o,a,r=t.options,c=t.root,u=t.form;return(0,s.Z)(this,e),i=this,o=e,o=(0,h.Z)(o),(n=(0,l.Z)(i,y()?Reflect.construct(o,a||[],(0,h.Z)(i).constructor):o.apply(i,a))).root=c,n.options=r,n.form=u,n.init(),n}return(0,f.Z)(e,t),(0,c.Z)(e,[{key:"init",value:function(){var t=this;this.languageSelectors=this.root.querySelectorAll(".dalia-language-selection a"),this.translateForm(),this.form.on("languageChanged",this.translateForm.bind(this)),this.form.on("render",this.translateForm.bind(this)),this.languageSelectors.forEach(function(e){e.dataset.language===t.form.language?t.hide(e):t.show(e),e.addEventListener("click",function(e){t.form&&(t.form.language=e.target.dataset.language),t.languageSelectors.forEach(function(e){return t.show(e)}),t.hide(e.target),t.translateForm()})})}},{key:"translateForm",value:function(){var t=this;this.root.querySelectorAll(".translatable").forEach(function(e){e.dataset.i18nEn||(e.dataset.i18nEn=e.innerHTML),"en"===t.form.language?e.innerHTML=e.dataset.i18nEn:e.innerHTML=t.translateWithHtml(e.innerHTML)})}},{key:"translateWithHtml",value:function(t){if(!t||!t.length)return t;for(var e="",n=!1,i="",o=0;o<t.length;o++)"<"!==t[o]?">"!==t[o]?n?e+=t[o]:i+=t[o]:(e+=t[o],n=!1):(e+=this.translate(i),i="",e+=t[o],n=!0);return e+this.translate(i)}},{key:"translate",value:function(t){if(!t||!t.length)return t;var e=this.form.language,n=this.options.i18n[e][t];return!n&&t.length>0?t:n}},{key:"_",value:function(t){return this.translate(t)}}]),e}(n(72502).Z);var k=n(53894),C=n(9048),L=n(93008),x=n(62320),E=n.n(x),F=n(82488),S=n(93791),T=n(64061),M=n.n(T);function A(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,a=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach(function(e){(0,o.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(I=function(){return!!t})()}var B,D=S.PhoneNumberUtil.getInstance(),Z=Object.freeze({DEFAULT:{id:"DEFAULT"},DEFAULT_EXPANDED:{id:"DEFAULT_EXPANDED",isExpanded:!0},DEFAULT_EMOJI:{id:"DEFAULT_EMOJI",emoji:"&#128075;",showBorder:!0},DEFAULT_EMOJI_EXPANDED:{id:"DEFAULT_EMOJI",isExpanded:!0,emoji:"&#128075;"},STYLED_EMOJI_EXPANDED:{id:"STYLED_EMOJI_EXPANDED",isExpanded:!0,emoji:"&#128075;",styled:!0},SIDEBAR:{id:"SIDEBAR",isExpanded:!0,emoji:"&#128075;",styled:!1,jobsLimit:4,applyBtnText:"Apply",showAllJobs:!0}});window.Bugsnag=M();const O=function(t){function e(t){var n,i,o,a,r=t.document,c=t.formRoot,d=t.data;return(0,s.Z)(this,e),i=this,o=e,a=[{document:r}],o=(0,h.Z)(o),n=(0,l.Z)(i,I()?Reflect.construct(o,a||[],(0,h.Z)(i).constructor):o.apply(i,a)),B=(0,u.Z)(n),n.formSubmitted=!1,n.lastPage=null,n.lastElement=null,n.parentSelectBoxes=[],n.isParentSelectActive=!1,n.isParentSelectActiveTimeout=null,n.formRoot=c,n.formModel=d.form,n.config=n.formModel.config,n.APIURL=d.APIURL,n.locationAPIURL=d.APIURL+"/api",n.googleAuthClientId=d.GoogleAuthClientId,n.emailBlackListDomains=d.emailBlackListDomains,n.customTopLevelDomains=d.customTopLevelDomains,n.customCallbacksInstance=null,n.formData=d,n.formValues={location:void 0,resume:void 0,job_title:void 0},n.eventsAttributes=n.config.eventsAttributes,n.fieldsToBeFilteredBasedOnLocation=n.config.fieldsToBeFilteredBasedOnLocation,n.buttonNode=n.form$(".dalia-button-container"),n.formNode=n.form$(".dalia-forms-container-bg"),n.daliaFormsContainer=n.form$(".dalia-forms-container"),n.loadingNode=n.form$(".dalia-loading"),n.daliaFormNode=n.form$(".dalia-form.dalia-form-shadow"),n.footerNode=n.form$(".dalia-form-footer"),n.footerCloseNode=n.form$(".dalia-form-footer .form-close"),n.formElementsNode=n.form$("#form-container"),n.successNode=n.form$(".dalia-success"),n.poweredByNode=n.form$(".powered-by"),n.disrubtiveCloseButton=n.form$("#close-disrubtive"),n.startedEapplyApplications={},n.demoMode=!1,n.byPassCountryCheck=!1,n.attachGlobalMethods(),n.loadData().then(function(){n.loadCss(),n.returnVisitorPersonalization(),n.canLoad()&&(n.isTouchscreen()?n.setupTouchscreenSettings():(n.formShowTouchscreenAfterCleared=!0,n.formShowTouchscreenBlockLastTouchCleared=!0),n.showFormButton())}),n.plugins=[],n.config.plugins.autoScroll&&n.plugins.push(new k.default(n.formNode)),n.config.plugins.sessionRecording&&n.plugins.push(new F.default((0,u.Z)(n))),n.formsEvent=new b.default({document:r,data:n.formData,clientGaEvents:n.config.clientGaEvents||[]}),n}var p,v,y,x,S,T,M,P,_,O,R,V,H,N,J,U,$,q,z,G,K,W;return(0,f.Z)(e,t),(0,c.Z)(e,[{key:"mapboxInputSelector",get:function(){return".mapboxgl-ctrl-geocoder--input"}},{key:"jobTitleInputSelector",get:function(){return'input[name="job_title"]'}},{key:"showUniversalSignUp",value:function(){}},{key:"attachGlobalMethods",value:function(){EventTarget.prototype.attachListener=function(t,e,n){this.removeEventListener(t,e,n),this.addEventListener(t,e,n)}}},{key:"form$",value:function(t){return this.formRoot.querySelector(t)}},{key:"form$$",value:function(t){return this.formRoot.querySelectorAll(t)}},{key:"inIframe",value:function(){try{return window.self!==window.top}catch(t){return!0}}},{key:"isTouchscreen",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"canLoad",value:function(){return!(!g.default.isFromDaliaAdmin()||!this.config.byPassDaliaDomains)||!!this.formModel.active&&(!this.shouldBlockLoad()&&((!this.config.disableInIframe||!this.inIframe())&&(!this.config.blockWordsUrls.length||!this.config.blockWordsUrls.some(function(t){return window.location.href.includes(t)}))))}},{key:"shouldBlockLoad",value:function(){var t=this.config.blockWordsHTML.map(function(t){return t.trim()}).filter(function(t){return""!==t});if(0===t.length)return!1;var e=new RegExp(t.join("|"),"i"),n=this.document&&this.document.body?this.document.body.innerText:"";return e.test(n)}},{key:"loadCss",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?((t=this.document.createElement("link")).rel="stylesheet",t.href=e):(t=this.document.createElement("style")).innerHTML=this.formModel.css,this.formRoot.appendChild(t)}},{key:"setAutocompleteField",value:function(t){var e=this,n={first_name:"given-name",last_name:"family-name",phone:"tel",email:"email"};t.columns&&t.columns.forEach(function(t){t&&t.components&&t.components.forEach(function(t){return e.setAutocompleteField(t)})});var i=this.config.autocompleteEnabled&&n[t.key];return t.autocomplete=i?n[t.key]:"chrome-off",t}},{key:"handleHiddingOnMobile",value:function(){return!!this.config.hideOnMobileUrlWords.some(function(t){return window.location.href.includes(t)})&&(this.buttonNode.classList.add("hide-on-mobile"),this.rvpJobsContainer&&this.rvpJobsContainer.classList.add("hide-on-mobile"),!0)}},{key:"showFormButton",value:(W=(0,r.Z)(m().mark(function t(){var e;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.config.fetchLocationFromIpApi.active){t.next=12;break}return t.next=3,g.default.fetchLocationFromIpApi(this.getOrigin(),this.config.fetchLocationFromIpApi.ipLookupUrls);case 3:if(this.locationBasedOnIP=t.sent,t.t0=!this.byPassCountryCheck,!t.t0){t.next=9;break}return t.next=8,g.default.shouldBlockByCountry({location:this.locationBasedOnIP,blockLoadByCountry:this.config.blockLoadByCountry});case 8:t.t0=t.sent;case 9:if(!t.t0){t.next=12;break}return t.abrupt("return");case 12:if("universal"!==this.formData.formType){t.next=15;break}return this.showUniversalSignUp(),t.abrupt("return");case 15:return this.buttonNode.innerHTML=this.config.buttonText,this.config.buttonClassList&&(e=this.buttonNode.classList).add.apply(e,(0,a.Z)(this.config.buttonClassList.split(" "))),t.next=19,this.bindShow();case 19:this.setupFormShow();case 20:case"end":return t.stop()}},t,this)})),function(){return W.apply(this,arguments)})},{key:"createForm",value:(K=(0,r.Z)(m().mark(function t(e,n){var i,o=this;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.config.fetchLocationFromIpApi.active){t.next=13;break}if(this.locationBasedOnIP){t.next=5;break}return t.next=4,g.default.fetchLocationFromIpApi(this.getOrigin(),this.config.fetchLocationFromIpApi.ipLookupUrls);case 4:this.locationBasedOnIP=t.sent;case 5:if(t.t0=!this.byPassCountryCheck,!t.t0){t.next=10;break}return t.next=9,g.default.shouldBlockByCountry({location:this.locationBasedOnIP,blockLoadByCountry:this.config.blockLoadByCountry});case 9:t.t0=t.sent;case 10:if(!t.t0){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,this.loadJSFiles();case 15:return this.beforeFormCreation(),Formio.icons="fontawesome",t.next=19,Formio.createForm(this.formElementsNode,this.formModel.layout,j(j(j({},g.default.deepCopy(this.config.extendedConfig)),{},{sanitizeConfig:{addTags:["input-job-title"]}},this.formModel.layout.options),{},{hooks:{beforeSubmit:this.beforeSubmit&&this.beforeSubmit.bind(this),beforeNext:this.beforeNext&&this.beforeNext.bind(this),beforePrev:this.beforePrev&&this.beforePrev.bind(this),beforeCancel:this.beforeCancel&&this.beforeCancel.bind(this),addComponent:this.setAutocompleteField.bind(this),attachComponent:this.attachComponent&&this.attachComponent.bind(this)}}));case 19:this.form=t.sent,this.lastPage=null===(i=this.form.currentPanel)||void 0===i?void 0:i.key,this.form.nosubmit=!0,this.form.on("change",function(t){var e,n,i=t.changed;o.lastElement=null!==(e=null==i||null===(n=i.component)||void 0===n?void 0:n.key)&&void 0!==e?e:"location",o.handleJobTitleRadioTabs(i)}),this.form.on("submit",this.onFormSubmit.bind(this)),this.form.on("render",this.initForm.bind(this)),this.initForm(),this.form.submission.data.client_id=this.formModel.Client.id,this.form$$(".handle-next").forEach(function(t){return t.addEventListener("click",function(){o.autoPopulateFields(),o.form.nextPage().then(function(){var t;o.lastPage=null===(t=o.form.currentPanel)||void 0===t?void 0:t.key})})}),this.form$(".dalia-close-button")&&this.form$(".dalia-close-button").addEventListener("click",function(){return o.hideForm("close_button")}),this.footerCloseNode.innerHTML=this.config.buttonCloseText,this.config.enableI18n&&(this.i18n=new w({options:this.config.extendedConfig,root:this.formRoot,form:this.form})),this.form$(".dalia-form-shadow").addEventListener("click",function(t){return t.stopPropagation()}),this.config.extendedConfig.noAlerts&&(window.confirm=function(){});case 33:case"end":return t.stop()}},t,this)})),function(t,e){return K.apply(this,arguments)})},{key:"inRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>=e&&t<=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e)}},{key:"getEApplyDataForJob",value:(G=(0,r.Z)(m().mark(function t(e,n){var i,a,r,s;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(i=this.applyTokens)||void 0===i||!i[e.id]){t.next=2;break}return t.abrupt("return",this.applyTokens[e.id]);case 2:return a={job_id:e.id,client_id:this.formModel.Client.id,jobId:e.external_id,user_id:this.data.userId,url:e.originalJobUrl||e.externalUrl,channel:"web",source:n},t.next=5,window.fetch("".concat(this.APIURL,"/api/v2/eapply/token"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json;charset=utf-8","x-api-token":this.formData.token}}).catch(function(t){console.log("E-apply Error: when fetching the token",t)});case 5:if(200===(r=t.sent).status){t.next=8;break}return t.abrupt("return",{});case 8:return t.next=10,r.json();case 10:return(s=t.sent).token&&(this.applyTokens=j(j({},this.applyTokens),{},(0,o.Z)({},e.id,s))),t.abrupt("return",s);case 13:case"end":return t.stop()}},t,this)})),function(t,e){return G.apply(this,arguments)})},{key:"handleEmailSuggestions",value:function(t){if(this.config.enableEmailAutoSuggestion){var e=t.target,n=t.charCode,i=t.keyCode,o=t.altKey,a=t.ctrlKey,r=t.metaKey,s=t.shiftKey,c=i||n;if(!(o||a||r||s||this.inRange(c,8,46)||this.inRange(c,91,92)||this.inRange(c,112,123)||this.inRange(c,144,145))){var l=e.value,u=this.getEmailDomainSuggestion(l);this.renderEmailSuggestion(u)}}}},{key:"getEmailDomainSuggestion",value:function(t){var e=E().defaultDomains,n=E().defaultSecondLevelDomains,i=E().defaultTopLevelDomains,o=n.reduce(function(t,e){return[].concat((0,a.Z)(t),(0,a.Z)(i.map(function(t){return"".concat(e,".").concat(t)})))},[]);return[].concat((0,a.Z)(e),(0,a.Z)(o)).find(function(e){var n=E().splitEmail(t);return n&&n.domain&&e.startsWith(n.domain)})}},{key:"renderEmailSuggestion",value:function(t){var e=this.form$('input[type="email"]'),n=this.form.submission.data.email,i=E().splitEmail(n);if(e&&t&&i){var o=i.domain,a=t.replace(o,"");a&&(this.form.setSubmission({data:j(j({},this.form.submission.data),{},{email:n+a})}),setTimeout(function(){var t=(n+a).lastIndexOf(a),i=t+a.length;e.setAttribute("type","text"),e.setSelectionRange(t,i),e.setAttribute("type","email")},0))}}},{key:"attachComponent",value:function(t,e){(this.config.accessibilityMode&&this.handleFormAccessibilityElement(t,e),"choicesjs"===e.component.widget&&e.component.multiple)&&new MutationObserver(function(e,n){var i,o=A(e);try{var a=function(){if("childList"===i.value.type){var e=t.querySelector('select[ref="selectContainer"][multiple].choices__input');if(e){var o=t.querySelector("input.choices__input");return e.addEventListener("choice",function(){o.blur()}),n.disconnect(),1}}};for(o.s();!(i=o.n()).done&&!a(););}catch(t){o.e(t)}finally{o.f()}}).observe(t,{childList:!0,subtree:!0})}},{key:"beforeFormCreation",value:function(){this.handleFormAccessibility()}},{key:"initHelpButton",value:function(t){var e=this,n=this.config.helpButtonConfig,i=n.titleText,o=n.bodyText,a=n.buttonText,s=n.helpUrl;t.innerHTML='\n        <div id="header" class="d-flex">\n           <svg xmlns="http://www.w3.org/2000/svg" width="23.193" height="23.193" viewBox="0 0 23.193 23.193">\n              <path id="question-circle" d="M2092.847,3524.443a11.6,11.6,0,1,1,11.6-11.6A11.609,11.609,0,0,1,2092.847,3524.443Zm0-21.575a9.978,9.978,0,1,0,9.978,9.978A9.989,9.989,0,0,0,2092.847,3502.868Zm.767,11.45c.026-.078.173-.372.962-.9a3.324,3.324,0,0,0,1.606-3.433,3.388,3.388,0,0,0-6.724.609.809.809,0,1,0,1.618,0,1.8,1.8,0,0,1,.642-1.381,1.743,1.743,0,0,1,1.455-.382,1.8,1.8,0,0,1,1.413,1.429,1.676,1.676,0,0,1-.913,1.812,3.7,3.7,0,0,0-1.595,1.73.809.809,0,0,0,.51,1.025.772.772,0,0,0,.257.042A.809.809,0,0,0,2093.613,3514.318Zm.333,3.383a1.079,1.079,0,0,0-1.078-1.078h-.011a1.079,1.079,0,1,0,1.089,1.078Z" transform="translate(-2081.25 -3501.25)" fill="currentColor"/>\n           </svg>\n           <span class="m-1" data-bs-toggle="popover" data-ba-content="x" data-bs-html="true">Help</span>\n        </div>\n        <div class="d-none" id="help-container">\n           <div class="close">\n              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="23.193" height="23.193" viewBox="0,0,256,256">\n                <g fill="#cecece" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(10.66667,10.66667)"><path d="M4.70703,3.29297l-1.41406,1.41406l7.29297,7.29297l-7.29297,7.29297l1.41406,1.41406l7.29297,-7.29297l7.29297,7.29297l1.41406,-1.41406l-7.29297,-7.29297l7.29297,-7.29297l-1.41406,-1.41406l-7.29297,7.29297z"></path></g></g>\n              </svg>\n           </div>\n           <p class="title">'.concat(i,'</p>\n           <p class="text-grey body">').concat(o,'</p>\n           <a class="btn" id="get-help" as="a" href="').concat(s,'" target="_blank">\n              ').concat(a,'\n              <svg xmlns="http://www.w3.org/2000/svg" width="4.714" height="8.143" viewBox="0 0 4.714 8.143">\n                 <path id="angle-up-small" d="M7.5,4.714a.638.638,0,0,1-.454-.189L4.071,1.552,1.1,4.526a.643.643,0,0,1-.909-.909L3.617.188a.642.642,0,0,1,.909,0L7.954,3.617a.643.643,0,0,1-.454,1.1Z" transform="translate(4.714) rotate(90)" fill="currentColor" />\n              </svg>\n           </a>\n        </div>\n\n    ');var c=function(){var t=e.form$("#help-container");t.classList.contains("d-none")?(t.classList.remove("d-none"),e.formsEvent.track("forms_help_button_clicked",{params:{client_name:e.formModel.Client.name}})):t.classList.add("d-none")},l=this.form$(".help-btn #header"),u=this.form$(".help-btn .close"),d=this.form$("#get-help");l.attachListener("click",c),u.attachListener("click",c),d.attachListener("click",(0,r.Z)(m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.formsEvent.track("forms_get_help_button_clicked",{params:{client_name:e.formModel.Client.name}});case 1:case"end":return t.stop()}},t)})))}},{key:"handleFormAccessibility",value:function(){var t=this;this.config.accessibilityMode&&(this.loadCss("https://cdnjs.cloudflare.com/ajax/libs/uswds/2.11.2/css/uswds.min.css"),this.loadCss("https://cdn.form.io/uswds/uswds.min.css"),this.loadCss("".concat(this.getOrigin(),"/css/forms/accessibility.css")),Promise.all([n.e(959),n.e(700)]).then(n.bind(n,18924)).then(function(t){var e=t.default;return Formio.use(e)}),this.form$("#form-container").addEventListener("keyup",function(e){27===e.keyCode&&t.hideForm()}))}},{key:"handleFormAccessibilityElement",value:function(t,e){if("input"===e.info.type&&"columns"!==e.component.type){var n=t.querySelector('div[ref="element"]'),i=t.querySelector("div label");if(n&&i){var o=i.cloneNode(!0);i.id="".concat(i.id,"-accessible"),i.parentElement.style.display="none",n.appendChild(o)}}}},{key:"initForm",value:function(){this.selectors(),this.formControl(),this.customPages(),this.initPlugins(),this.initBotProtection()}},{key:"initPlugins",value:function(){this.plugins.forEach(function(t){return t.init()})}},{key:"trackDisrubtiveCloseEvent",value:function(){this.config.trackNavigation&&this.formsEvent.track("form_disrubtive_close"),this.formNode.classList.add("hide"),this.config.buttonEnabled&&this.show(this.buttonNode),this.data.lastMouseTrigger=this.getTime(),this.saveData(this.demoMode),this.isFormOpened=!1}},{key:"handleClosingForm",value:function(t){var e=t.target.classList.contains("dalia-form-close")?"X_dismiss":"form_close";this.hideForm(e)}},{key:"selectors",value:function(){var t=this;[[".use-location-wrapper",function(e){return e.attachListener("click",t.fetchLocationFromBrowser.bind(t),!1)}],[".dalia-form-prev",function(e){return e.attachListener("click",t.formPrevPage)}],[".dalia-forms-location",this.initLocation.bind(this)],[".dalia-forms-resume",this.initResume.bind(this)],[".dalia-forms-recaptcha",this.initRecaptcha.bind(this)],["input-job-title",this.initJobTitleInput.bind(this)],[".form-close",function(e){return e.attachListener("click",t.handleClosingForm.bind(t))}],["#close-disrubtive",function(e){return e.attachListener("click",t.trackDisrubtiveCloseEvent)}],['input[type="email"]',function(e){return e.attachListener("keyup",t.handleEmailSuggestions.bind(t))}],[".help-btn",function(e){t.initHelpButton(e)}],[".google-btn",function(){"undefined"!=typeof google&&google&&google.accounts&&t.initGoogleSingInButton()}],this.customSelectors?(0,a.Z)(this.customSelectors):[]].forEach(function(e){var n=(0,i.Z)(e,2),o=n[0],a=n[1];t.form$$(o).forEach(function(t){return a(t)})});try{var e=this.config.preventEventPropagationList,n=void 0===e?[]:e;if(n&&Array.isArray(n)){var o,r=A(n);try{for(r.s();!(o=r.n()).done;){var s=o.value;this.formNode.attachListener(s,function(t){return t.stopPropagation()})}}catch(t){r.e(t)}finally{r.f()}}}catch(t){}}},{key:"formPrevPage",value:function(t){t.stopPropagation(),t.preventDefault(),B.form.prevPage(),B.prevPageCallback&&B.prevPageCallback()}},{key:"formControl",value:function(){this.config.hideDaliaBrand&&this.hide(this.poweredByNode)}},{key:"customPages",value:function(){var t=this.formModel.layout.customPages||[],e=t.filter(function(t){return!t.isSuccessPage});if(Array.isArray(e)){var n,i=A(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.selector,r=o.content,s=this.form$(a);s&&r&&(s.innerHTML=r)}}catch(t){i.e(t)}finally{i.f()}}}},{key:"initBotProtection",value:function(){var t=this;if(this.config.blockBots&&((0,L.Z)(navigator.userAgent)&&(this.form.setSubmission({botDetected:!0}),this.form.isBot=!0),!this.form$("#email2"))){var e=this.document.createElement("input");e.type="text",e.id="email2",e.classList.add("form-control"),e.classList.add("no-input"),this.form$("form").appendChild(e),e.attachListener("change",function(e){e.target.value&&(t.form.setSubmission({botDetected:!0}),t.form.isBot=!0)})}}},{key:"setLocation",value:function(t){var e=t.city,n=t.state,i=t.country,o=t.location,a=t.longitude,r=t.latitude;this.formValues.city=e,this.formValues.state=n,this.formValues.country=i,this.formValues.location=o,this.formValues.latitude=r,this.formValues.longitude=a}},{key:"filterOptionsBasedOnLocation",value:function(t){var e,n=this;t&&null!==(e=this.fieldsToBeFilteredBasedOnLocation)&&void 0!==e&&e.length&&this.fieldsToBeFilteredBasedOnLocation.forEach(function(e){var i=n.form.getComponent(e);i.setValue("");var o=i.originalComponent.data.values,a=o.filter(function(e){return e.value.toLowerCase().includes(t.toLowerCase())});a.length?i.component.data.values=a:i.component.data.values=o,i.redraw()})}},{key:"resetFieldsOptions",value:function(){var t,e=this;null!==(t=this.fieldsToBeFilteredBasedOnLocation)&&void 0!==t&&t.length&&this.fieldsToBeFilteredBasedOnLocation.forEach(function(t){var n=e.form.getComponent(t),i=n.originalComponent.data.values;n.component.data.values=i,n.redraw()})}},{key:"initLocation",value:function(t){var e,n,i=this,o=this.config.locationZipCode,a=o?"Zip Code":"City, State",r=this.i18n?this.i18n._(a):a,s=new C.default({initValue:this.form.submission.data.location,countries:this.config.mapBoxCountries,types:o?"postcode":(null===(e=this.formModel.config)||void 0===e||null===(e=e.locations)||void 0===e?void 0:e.types)||["country","region","place","locality"],getItemValue:function(t){return i.setLocation(t),i.filterOptionsBasedOnLocation(t.city||t.address),i.form.onChange(),t.address},placeholder:r,minLength:2,APIURL:this.locationAPIURL,clientName:this.formModel.Client.name,certainLocations:!0===(null===(n=this.formModel.config)||void 0===n||null===(n=n.locations)||void 0===n?void 0:n.showCertainLocations)?this.formModel.config.locations.certainLocations:[]}),c=s.onAdd();t.innerHTML="",t.appendChild(c),t.querySelector(this.mapboxInputSelector).setAttribute("autocomplete","chrome-off"),this.config.hideMyLocationBtn||this.renderUseMyLocationBtn(t),this.config.autoLoadLocationFromIp&&this.fetchLocationFromIp(),s.on("clear",function(){i.resetFieldsOptions()}),this.formValues.location&&s.setInput(this.formValues.location)}},{key:"renderUseMyLocationBtn",value:function(t){var e=this.document.createElement("button");e.type="button",e.classList.add("use-my-location"),e.innerHTML='<span>Use my location</span><img src="'.concat(this.getOrigin(),'/images/location-arrow.svg">'),e.attachListener("click",this.fetchLocationFromBrowser.bind(this)),t.appendChild(e)}},{key:"loadJSFiles",value:(z=(0,r.Z)(m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(595).then(n.bind(n,39595)),n.e(545).then(n.t.bind(n,545,23)),n.e(72).then(n.bind(n,95590))]);case 2:case"end":return t.stop()}},t)})),function(){return z.apply(this,arguments)})},{key:"handleEapplyForJob",value:(q=(0,r.Z)(m().mark(function t(e,n){var i,o,a,r,s,c,l=arguments;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>2&&void 0!==l[2]?l[2]:{},t.next=3,this.getEApplyDataForJob(e,i.isRVP?"rvp":"form");case 3:if(o=t.sent,r=(a=o||{}).token,s=a.applyApplication,r){t.next=11;break}return n&&(n.innerHTML="Apply",window.open(e.url,"_blank")),this.data.eapplyFormOptions=null,t.next=10,this.saveData(this.demoMode);case 10:return t.abrupt("return");case 11:"submitted"!==(null==s?void 0:s.status)?this.showEApplyForJob(e,j(j({},i),{},{btn:n,token:r,appStatus:null==o||null===(c=o.eAppapplyApplication)||void 0===c?void 0:c.status})):"submitted"===(null==s?void 0:s.status)&&(n.classList.remove("loading"),n.innerHTML="Applied!");case 12:case"end":return t.stop()}},t,this)})),function(t,e){return q.apply(this,arguments)})},{key:"showEApplyForJob",value:($=(0,r.Z)(m().mark(function t(e){var n,i,o,a,r,s,c,l,u,d,h,f,p,v,g,b,y,w,k,C,L=this,x=arguments;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=(o=x.length>1&&void 0!==x[1]?x[1]:{}).isRVP,r=o.jobsCount,s=o.token,c=o.containerComponent,l=o.otherComponent,u=o.hideBackBtn,d=o.startedInForm,h=o.startMinimized,f=o.showJobDetails,p=o.btn,(v=c.querySelector(".apply-web-container"))&&v.remove(),(v=this.document.createElement("div")).classList.add("apply-web-container","hide"),g=e.location||"".concat(null===(n=e.addresses)||void 0===n?void 0:n[0].city,", ").concat(null===(i=e.addresses)||void 0===i?void 0:i[0].state),b=window.getComputedStyle(this.formNode),y=b.getPropertyValue("--primary-color"),w=!!(this.shouldContinueApplyJobInForm()&&!l||d)||h,k={token:s,title:e.title,location:g,entity_name:e.entity_name,userName:this.data.userName,source:a?"rvp":"form",jobsCount:r,job:j(j({},e),{},{location:g}),appStatus:o.appStatus,primaryColor:y,showJobDetails:f,startMinimized:w},v.innerHTML='\n      <dalia-apply-web\n        data-apply-token="'.concat(k.token,'"\n        data-custom-css="').concat(this.APIURL,'/css/apply-form.css"\n        data-job-title="').concat(k.title,'"\n        data-job-location="').concat(k.location,'"\n        data-client-name="').concat(k.entity_name,'"\n        data-source="').concat(k.source,'"\n        data-jobs-count="').concat(k.jobsCount,'"\n        data-base-url="').concat(this.APIURL,'"\n        data-show-job-details=').concat(!!k.showJobDetails,'\n        data-place-holder="Type here"\n        data-hide-back-btn="').concat(!!u,'"\n        data-user-name="').concat(k.userName,'"\n        data-start-minimized="').concat(k.startMinimized,'"\n        data-started-in-form="').concat(!!d||"",'"\n        data-app-status=').concat(k.appStatus,'\n        style="--primary-color: ').concat(k.primaryColor,';"\n        > </dalia-apply-web>\n    '),C=v.querySelector("dalia-apply-web");try{C.setAttribute("data-job-details",JSON.stringify(e))}catch(t){console.log({e:t})}return c.prepend(v),["back-btn-clicked","popup-closed","popup-opened","submitted","job_expired","application-started"].forEach(function(t){C.attachListener(t,function(t){return L.handleEApplyEvents(t,j(j({},o),{},{containerComponent:c,otherComponent:l,job:e}))})}),C.attachListener("apply-component-loaded",function(){var t;p&&(p.innerHTML=k.showJobDetails?"Job Details":"Continue",p.classList.remove("loading")),k.showJobDetails||null!==(t=o.jobElement)&&void 0!==t&&t.classList&&o.jobElement.classList.add("in-progress-application"),c.classList.add(k.startMinimized?"minimized":"full-screen"),a||(L.hide(L.form$(".formio-form")),L.hide(L.form$(".dalia-form-close"))),L.show(c),L.hide(l),L.show(v)}),this.data.eapplyFormOptions=k,t.next=21,this.saveData(this.demoMode);case 21:case"end":return t.stop()}},t,this)})),function(t){return $.apply(this,arguments)})},{key:"handleEApplyEvents",value:function(t,e){var n;switch(t.type){case"back-btn-clicked":case"job_expired":case"submitted":this.show(e.otherComponent),e.containerComponent.classList.remove("full-screen"),e.containerComponent.querySelector(".apply-web-container").classList.add("hide"),this.data.eapplyFormOptions=null,e.isRVP||this.show(this.form$(".dalia-form-close")),"submitted"===t.type&&e.btn&&(e.btn.innerHTML="Applied!",e.btn.disabled=!0);break;case"popup-closed":var i;if(e.isRVP)e.containerComponent.classList.add("minimized"),this.rvpJobsContainer.querySelector(".apply-web-container").classList.remove("hide");else null!==(i=this.config.rvp)&&void 0!==i&&i.active&&this.data.eapplyFormOptions?(this.data.eapplyFormOptions.startedInForm=!0,this.hideForm()):(this.formNode.classList.add("minimized"),e.containerComponent.querySelector(".apply-web-container"));e.containerComponent.classList.remove("full-screen"),this.data.eapplyFormOptions=j(j({},this.data.eapplyFormOptions),{},{startMinimized:!0});break;case"popup-opened":e.isRVP?(e.containerComponent.classList.remove("minimized"),e.containerComponent.classList.add("full-screen")):this.formNode.classList.remove("minimized"),e.containerComponent.classList.add("expanded"),e.containerComponent.querySelector(".apply-web-container")&&setTimeout(function(){e.containerComponent.querySelector(".apply-web-container").classList.remove("hide")},100),this.data.eapplyFormOptions=j(j({},this.data.eapplyFormOptions),{},{startMinimized:!1});break;case"application-started":this.startedEapplyApplications[null===(n=e.job)||void 0===n?void 0:n.id]=!0,this.data.eapplyFormOptions.showJobDetails=!1,e.showJobDetails=!1,e.btn&&(e.btn.innerHTML="Continue"),e.jobElement&&e.jobElement.classList.add("in-progress-application")}this.saveData(this.demoMode)}},{key:"fetchLocationFromIp",value:(U=(0,r.Z)(m().mark(function t(){var e,n,i;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.config.locationZipCode,t.t0=this.config.fetchLocationFromIpApi.active,!t.t0){t.next=6;break}return t.next=5,g.default.fetchLocationFromIpApi(this.getOrigin(),this.config.fetchLocationFromIpApi.ipLookupUrls);case 5:t.t0=t.sent;case 6:if(!(n=t.t0)){t.next=13;break}if(!(e&&n.postal||!e)){t.next=13;break}return t.next=11,g.default.fetchCoordinatesFromLocation("".concat(n.city,", ").concat(n.region_code),this.locationAPIURL,e?n.postal:null);case 11:(i=t.sent).data.length>0&&(this.parseLocationMapbox(i,e),this.form$(this.mapboxInputSelector).value=e?n.postal:"".concat(n.city,", ").concat(n.region_code));case 13:case"end":return t.stop()}},t,this)})),function(){return U.apply(this,arguments)})},{key:"fetchLocationFromBrowser",value:(J=(0,r.Z)(m().mark(function t(){var e,n;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.config.locationZipCode,t.next=3,g.default.fetchLocationFromBrowser(this.locationAPIURL,e);case 3:(n=t.sent)&&this.parseLocationMapbox(n,e);case 5:case"end":return t.stop()}},t,this)})),function(){return J.apply(this,arguments)})},{key:"parseLocationMapbox",value:function(t){t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t.data.id&&t.data.id.includes("postcode")?t.data.find(function(t){return t.id.includes("postcode")}):t.data.filter(function(t){return t.place_type.includes("postcode")})[0]:t.data.find(function(t){return t})||t.data.find(function(t){return t.context.find(function(t){return t})}),this.setLocation(t),this.form$(this.mapboxInputSelector).value=t.address}},{key:"validateResume",value:function(t,e){var n=t.name.split("."),i=n[n.length-1],o=Array.isArray(this.config.acceptedResumeFileTypes)&&this.config.acceptedResumeFileTypes.includes(i),a=t.size>0;return this.updateErrorMessageNode(e,{isValidType:o,isValidSize:a,resumeFile:t}),o&&a}},{key:"updateErrorMessageNode",value:function(t,e){var n=e.isValidType,i=e.isValidSize;n||(t.innerHTML=this.typesErrorMessage),i||(t.innerHTML="Resume file must not be empty")}},{key:"createErrorMessageNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.typesErrorMessage,e=this.document.createElement("p");return this.hide(e),e.classList.add("error-message"),e.innerHTML=t,e}},{key:"initRecaptcha",value:function(t){var e=this;if(this.config.recaptchaEnabled){var n=this.config.recaptchaSiteKey;if(this._recaptcha={siteKey:n,widgetId:null,input:null,ready:!1},n){var i=this.document.createElement("div");i.className="dalia-forms-recaptcha d-none",i.innerHTML='<input type="hidden" name="data[gRecaptcha]" />',t.appendChild(i),this._recaptcha.input=i.querySelector("input"),this._recaptcha.input&&this.loadRecaptchaScript().then(function(){e._recaptcha.ready=!0}).catch(function(t){e.e("reCAPTCHA script load",t)})}else console.warn("[reCAPTCHA] Missing siteKey")}}},{key:"loadRecaptchaScript",value:function(){var t=this;return new Promise(function(e,n){if(window.grecaptcha&&window.grecaptcha.execute)return e();var i=document.createElement("script");i.src="https://www.google.com/recaptcha/api.js?render=".concat(t._recaptcha.siteKey),i.async=!0,i.defer=!0,i.onload=function(){window.grecaptcha&&window.grecaptcha.ready?window.grecaptcha.ready(function(){e()}):n(new Error("reCAPTCHA not available after script load"))},i.onerror=function(){n(new Error("Failed to load reCAPTCHA script"))},document.head.appendChild(i)})}},{key:"executeRecaptcha",value:function(){var t=this;return new Promise(function(e,n){var i;return null!==(i=t._recaptcha)&&void 0!==i&&i.siteKey?t._recaptcha.input?window.grecaptcha&&window.grecaptcha.execute?void window.grecaptcha.ready(function(){window.grecaptcha.execute(t._recaptcha.siteKey,{action:"submit"}).then(function(i){var o;if(!i)return n(new Error("reCAPTCHA execution returned empty token"));t._recaptcha.input.value=i,null!==(o=t.form)&&void 0!==o&&null!==(o=o.submission)&&void 0!==o&&o.data&&(t.form.submission.data.gRecaptcha=i),e(i)}).catch(function(t){n(t)})}):n(new Error("reCAPTCHA not loaded")):n(new Error("reCAPTCHA input element not found")):e(null)})}},{key:"initResume",value:function(t){var e,n,i,o=this;if(this.resumeInput)return t.replaceChildren.apply(t,(0,a.Z)(this.resumeInput.children));var r=this.document.createElement("input"),s=this.form.getComponent("resume"),c=null==s||null===(e=s.component)||void 0===e||null===(e=e.properties)||void 0===e?void 0:e.className,l=j(j({},null==s?void 0:s.component),null==s||null===(n=s.component)||void 0===n?void 0:n.properties)||{},u=l.placeholder,d=l.style,h=l.validate,f=(null===(i=this.formValues)||void 0===i||null===(i=i.resume)||void 0===i?void 0:i.name)||u||"Upload Resume (".concat(null!=h&&h.required?"Required":"Optional",")");r.type="file",r.setAttribute("id","resume-input"),r.classList.add("d-none");var p=this.document.createElement("label");p.classList.add(c||"resume-input-label"),p.setAttribute("data-content",f),p.setAttribute("for","resume-input"),u&&(p.innerText=f,this.formValues.resume&&p.setAttribute("style",d));var m=this.config.acceptedResumeFileTypes.map(function(t){return".".concat(t)});r.setAttribute("accept",m.toString());var v=this.config.acceptedResumeFileTypes.slice(0,-1).join(", "),g=this.config.acceptedResumeFileTypes[this.config.acceptedResumeFileTypes.length-1];this.typesErrorMessage="Only a ".concat(v.length?"".concat(v,", or ").concat(g):g," file is accepted.");var b=this.createErrorMessageNode();r.attachListener("change",function(){var t=r.files[0];if(o.validateResume(t,b))return o.hide(b),o.formValues.resume=t,p.setAttribute("data-content",t.name),void(u&&(p.innerText=t.name,p.setAttribute("style",d)));o.formValues.resume=null,p.setAttribute("data-content",f),o.show(b)}),t.innerHTML="",t.appendChild(r),t.appendChild(p),t.appendChild(b)}},{key:"initJobTitleInput",value:function(t){if(this.config.defaultJobTitleList&&this.config.defaultJobTitleList.length>0){var e=this.form$("input-job-title");e&&e.setSource(this.config.defaultJobTitleList)}}},{key:"handleGoogleSingIn",value:function(t){var e=t.credential,n=jwt_decode(e);this.form.setValue({data:{first_name:n.given_name,last_name:n.family_name,email:n.email}}),this.form.triggerChange(),this.form.setPage(this.form.page+2)}},{key:"initGoogleSingInButton",value:function(){var t=g.default.isMobile()?window.innerWidth-80:400,e=this.googleAuthClientId;this.loadScript("https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"),google.accounts.id.initialize({client_id:e,callback:this.handleGoogleSingIn.bind(this),ux_mode:"popup"});var n=this.form$(".google-btn");google.accounts.id.renderButton(n,{theme:"outline",text:"continue_with",width:t,locale:"en",shape:"pill"})}},{key:"initCustomCallbacks",value:function(){var t=this,e=this.config.callbacksClass;if(e)return this.d('Loading callbacksClass "'.concat(e,'"...')),new Promise(function(i,o){n(57515)("./".concat(e)).then(function(n){t.d('Loaded callbacksClass "'.concat(e,'"!'));var i=n.default;t.customCallbacksInstance=new i(t)}).catch(console.error).finally(i)})}},{key:"invokeCustomCallback",value:function(t){if(t&&this.customCallbacksInstance&&"function"==typeof this.customCallbacksInstance[t]){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(e=this.customCallbacksInstance)[t].apply(e,i)}}},{key:"showForm",value:(N=(0,r.Z)(m().mark(function t(){var e,i=this;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.form){t.next=3;break}return t.next=3,this.createForm(document,this.formData);case 3:if(!this.isFormOpened){t.next=5;break}return t.abrupt("return");case 5:if(this.formNode.classList.remove("hide"),g.default.handleIframe("open"),this.config.formLoadScreenshot)try{n.e(120).then(n.t.bind(n,46020,23)).then(function(t){(0,t.default)(i.formNode,{allowTaint:!0,foreignObjectRendering:!0}).then(function(t){return i.formsEvent.track("form_load",{params:{screenshot:t.toDataURL()}})}).catch(i.d)}).catch(function(t){i.d(t),i.formsEvent.track("form_load")})}catch(t){this.formsEvent.track("form_load")}else this.formsEvent.track("form_load");this.hide(this.buttonNode),this.isFormOpened=!0,this.autoPopulateFields(),this.shouldContinueApplyJobInForm()&&(e=j(j({},this.data.eapplyFormOptions),{},{containerComponent:this.daliaFormNode,hideBackBtn:!0}),this.showEApplyForJob(this.data.eapplyFormOptions.job,e),this.handleEApplyEvents({type:"popup-closed"},e));case 12:case"end":return t.stop()}},t,this)})),function(){return N.apply(this,arguments)})},{key:"autoPopulateFields",value:function(){if(this.config.autoPopulateFields&&this.config.autoPopulateFields.active){for(var t=new URLSearchParams(window.location.search),e=Object.fromEntries(t.entries()),n={},o=0,a=Object.entries(e);o<a.length;o++){var r=(0,i.Z)(a[o],2),s=r[0],c=r[1];this.config.autoPopulateFields[s]&&(n[this.config.autoPopulateFields[s]]=c)}n&&(this.form.submission={data:j(j({},this.form.submission.data),n)})}}},{key:"hideForm",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dismiss";this.formNode.classList.add("hide"),g.default.handleIframe("close"),this.data.lastMouseTrigger=this.getTime(),this.shouldContinueApplyJobInForm()&&(this.config.buttonEnabled=!1),!0!==(null===(t=this.data)||void 0===t||null===(t=t.eapplyFormOptions)||void 0===t?void 0:t.startedInForm)&&(this.data.eapplyFormOptions=null),this.saveData(this.demoMode);var i=this.formSubmitted?"".concat(n,"_after_signup"):n,o=this.formSubmitted?{params:j(j({},this.data),this.formValues)}:{params:j(j(j({},this.data),this.formValues),{},{lastPage:this.lastPage,lastElement:this.lastElement})};try{this.formsEvent.track(i,o).catch(function(){e.formsEvent.track(i)})}catch(t){this.formsEvent.track(i)}this.config.buttonEnabled&&this.show(this.buttonNode),this.isFormOpened=!1,this.successCallBack&&this.successCallBack(),this.handleSkippingPostSignupQuestions()}},{key:"handleSkippingPostSignupQuestions",value:(H=(0,r.Z)(m().mark(function t(){var e,n,i,o,a;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.formSubmitted&&!this.isPostSingupQuestionsSubmitted&&(null===(e=this.config.screeningOut)||void 0===e?void 0:e.enabled)){t.next=3;break}return t.abrupt("return");case 3:return this.show(this.loadingNode),this.isPostSingupQuestionsSubmitted=!0,n={clientId:this.formModel.Client.id,formId:this.formModel.id},i="".concat(this.APIURL,"/users/").concat(this.data.userId,"/post-signup-questionnaire"),t.next=9,Formio.fetch(i,{body:JSON.stringify(n),method:"POST",mode:"cors",headers:{"content-type":"application/json"}});case 9:return o=t.sent,this.hide(this.loadingNode),t.next=13,o.json();case 13:a=t.sent,this.submissionResponse=j(j({},this.submissionResponse),a);case 15:case"end":return t.stop()}},t,this)})),function(){return H.apply(this,arguments)})},{key:"getTime",value:function(){return(new Date).getTime()/1e3}},{key:"setupFormShow",value:function(){var t=this;this.formShowBlockCleared=!1,setTimeout(function(){t.formShowBlockCleared=!0,t.config.formShowAutoAfterBlock>-1&&setTimeout(function(){return t.showFormIfCan({skipTouchChecks:!0})},1e3*t.config.formShowAutoAfterBlock)},1e3*this.config.formShowBlock)}},{key:"setupTouchscreenSettings",value:function(){var t=this;this.config.formShowTouchscreenAfter&&(this.formShowTouchscreenAfterCleared=!1,setTimeout(function(){t.formShowTouchscreenAfterCleared=!0,t.showFormIfCan()},1e3*this.config.formShowTouchscreenAfter)),this.config.formShowTouchscreenBlockLastTouch&&(this.setupFormShowTouchscreenBlockLastTouchTimeout(),this.document.attachListener("touchstart",function(){t.setupFormShowTouchscreenBlockLastTouchTimeout()}))}},{key:"setupFormShowTouchscreenBlockLastTouchTimeout",value:function(){var t=this;this.formShowTouchscreenBlockLastTouchTimeout&&clearTimeout(this.formShowTouchscreenBlockLastTouchTimeout),this.formShowTouchscreenBlockLastTouchCleared=!1,this.formShowTouchscreenBlockLastTouchTimeout=setTimeout(function(){t.formShowTouchscreenBlockLastTouchCleared=!0,t.showFormIfCan()},1e3*this.config.formShowTouchscreenBlockLastTouch)}},{key:"showFormIfCan",value:function(t){this.canShow(void 0,t)&&this.showForm()}},{key:"canShow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipTouchChecks:!1};if("daliafalse"===new Proxy(new URLSearchParams(window.location.search),{get:function(t,e){return t.get(e)}}).utm_campaign)return!1;if(!this.canLoad())return!1;if(this.shouldContinueApplyJobInForm())return!0;if(this.data.lastMouseTrigger+this.config.formShowBlockAfterMouseout>this.getTime())return!1;if(!1===this.invokeCustomCallback("canShow"))return!1;if(!e.skipTouchChecks){if(!this.formShowBlockCleared)return!1;if(!this.formShowTouchscreenAfterCleared)return!1;if(!this.formShowTouchscreenBlockLastTouchCleared)return!1}return!this.isFakeEvent(t)}},{key:"isFakeEvent",value:function(t){var e=t&&t.target;if(!e)return!1;var n=e.tagName&&e.tagName.toLowerCase&&e.tagName.toLowerCase(),i=["select","iframe","input"].includes(n);return i||(!!this.isParentSelectActive||null!==document.elementFromPoint(t.clientX,t.clientY))}},{key:"setIsParentSelectActiveTimeout",value:function(){var t=this;this.isParentSelectActiveTimeout=setTimeout(function(){t.isParentSelectActive=!1},300)}},{key:"bindParentSelectBoxes",value:function(){var t=this;setInterval(function(){t.document.querySelectorAll("select").forEach(t.bindSelectBoxHack.bind(t)),t.document.icims_content_iframe&&t.document.icims_content_iframe.document&&t.document.icims_content_iframe.document.querySelectorAll("select").forEach(t.bindSelectBoxHack.bind(t))},500)}},{key:"bindSelectBoxHack",value:function(t){var e=this;if(this.parentSelectBoxes.includes(t))return null;t.attachListener("focus",function(){clearTimeout(e.isParentSelectActiveTimeout),e.isParentSelectActive=!0},!1),t.attachListener("blur",this.setIsParentSelectActiveTimeout.bind(this),!1),t.attachListener("change",this.setIsParentSelectActiveTimeout.bind(this),!1),t.attachListener("select",this.setIsParentSelectActiveTimeout.bind(this),!1),this.parentSelectBoxes.push(t)}},{key:"bindShow",value:(V=(0,r.Z)(m().mark(function t(){var e=this;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.bindParentSelectBoxes(),"exit"===this.formData.formType){t.next=3;break}return t.abrupt("return");case 3:document.documentElement.addEventListener("mouseleave",function(){var t=(0,r.Z)(m().mark(function t(n){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.canShow(n)){t.next=6;break}return t.next=3,e.showForm();case 3:return e.data.lastMouseTrigger=e.getTime(),t.next=6,e.saveData(e.demoMode);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.config.buttonEnabledAlways&&(this.show(this.buttonNode),this.formsEvent.track("button_load")),this.handleHiddingOnMobile(),this.buttonNode.attachListener("click",(0,r.Z)(m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.showForm();case 2:e.formsEvent.track("button_click");case 3:case"end":return t.stop()}},t)})));case 7:case"end":return t.stop()}},t,this)})),function(){return V.apply(this,arguments)})},{key:"prefetchClientLogo",value:(R=(0,r.Z)(m().mark(function t(){var e=this;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t,n){var i=new window.Image;i.src=e.formModel.Client.logoUrl,i.onload=t,i.onerror=n}).catch(function(){});case 2:case"end":return t.stop()}},t)})),function(){return R.apply(this,arguments)})},{key:"syncDataBetweenForms",value:(O=(0,r.Z)(m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(0,d.Z)((0,h.Z)(e.prototype),"loadData",this).call(this);case 1:case"end":return t.stop()}},t,this)})),function(){return O.apply(this,arguments)})},{key:"checkDemoMode",value:function(){if(this.formModel.config.demoMode){var t=new URLSearchParams(window.location.search);this.demoMode="true"===t.get("demoMode"),this.byPassCountryCheck="true"===t.get("byPassCountryCheck"),this.formValues.forceICIMS="true"===t.get("forceICIMS"),this.demoMode&&localStorage.clear()}}},{key:"loadData",value:(_=(0,r.Z)(m().mark(function t(){var n,i,o;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.checkDemoMode(),this.data={lastMouseTrigger:0,lastSignup:0},t.next=4,Promise.all([(0,d.Z)((0,h.Z)(e.prototype),"loadData",this).call(this,this.demoMode),this.prefetchClientLogo(),this.initCustomCallbacks()]);case 4:if(null===(n=this.config.eapply)||void 0===n||!n.enabled||this.isApplyScriptLoaded){t.next=9;break}if(!window.customElements.get("dalia-apply-web")){t.next=7;break}return t.abrupt("return");case 7:this.isApplyScriptLoaded=!0,this.loadScript("".concat(this.APIURL,"/js/dist/apply-web-loader.js"),{type:"module"});case 9:this.eapplyEnabled=null===(i=this.config.eapply)||void 0===i?void 0:i.enabled,this.showJobDetailsEnabled=this.eapplyEnabled&&(null===(o=this.config.eapply)||void 0===o?void 0:o.showJobDetails);case 11:case"end":return t.stop()}},t,this)})),function(){return _.apply(this,arguments)})},{key:"customJobTitleValidation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.jobTitleInputSelector,n=this.form$("input-job-title").parentElement;return n.querySelector(e).value,this.renderCustomValidation(n,this.i18n?this.i18n._(t):t)}},{key:"renderCustomValidation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.parentElement;i.classList.add("has-message");var o=i.querySelector(".mapbox-validation-message");o&&o.remove();var a=this.document.createElement("div");a.classList.add("form-text","error","mapbox-validation-message"),n?a.innerHTML=e:a.innerText=e,i.querySelector(".formio-errors.invalid-feedback").appendChild(a),t.classList.add("is-invalid")}},{key:"toggleLoading",value:function(t){var e=this;t?this.daliaFormNode.classList.add("loading"):setTimeout(function(){e.daliaFormNode.classList.remove("loading")},this.config.resume.defaultTimeoutMs)}},{key:"replaceTexts",value:function(){var t,e=A(this.form$$(".replace-text"));try{for(e.s();!(t=e.n()).done;){var n=t.value,i=n.innerHTML.match(/\[(.*?)\]/g);if(i&&i.length){var o,r=A(i);try{for(r.s();!(o=r.n()).done;){var s=o.value,c=s.replace(/\[|\]/g,"");if(c.match(/\((.+)?\)/g)){var l=c.replace(/\((.+)?\)/g,"");if(this[l]){var u=this.getParams(c);n.innerHTML=n.innerHTML.replace(s,this[l].apply(this,(0,a.Z)(u)))}}else if(this.form.submission.data[c]||this.oldResume[c]){var d=this.form.submission.data[c]||this.oldResume[c];n.innerHTML=n.innerHTML.replace(s,g.default.humanize(d))}else n.innerHTML=n.innerHTML.replace(s,"")}}catch(t){r.e(t)}finally{r.f()}}}}catch(t){e.e(t)}finally{e.f()}}},{key:"getParams",value:function(t){var e=t.match(/\((.+)?\)/g);return e&&e.length?e[0].replace(/\(|\)/g,"").split(",").map(function(t){return t.trim()}):[]}},{key:"beforeSubmit",value:(P=(0,r.Z)(m().mark(function t(e,n){var i,o;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(i=this._recaptcha)||void 0===i||!i.siteKey||e.data.gRecaptcha){t.next=15;break}return t.prev=1,t.next=4,this.executeRecaptcha();case 4:if(o=t.sent){t.next=8;break}return this.renderCustomValidation(this.formElementsNode,"Please verify you are human."),t.abrupt("return");case 8:e.data.gRecaptcha=o,t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(1),this.renderCustomValidation(this.formElementsNode,"Please verify you are human."),t.abrupt("return");case 15:if(this.form.isBot){t.next=17;break}return t.abrupt("return",n());case 17:case"end":return t.stop()}},t,this,[[1,11]])})),function(t,e){return P.apply(this,arguments)})},{key:"replaceEmailDomain",value:function(t){var e=this.form.submission.data.email;e&&this.form.setSubmission({data:j(j({},this.form.submission.data),{},{email:e.replace(/@.*/,"@".concat(t))})})}},{key:"isEmailInvalid",value:function(t){try{var e=t.split("@")[1],n=e.split(".")[0].toLowerCase(),i=this.emailBlackListDomains.find(function(t){return t.rewrite.includes(n)}),o=this.emailBlackListDomains.map(function(t){return t.domain}),a=E().findClosestDomain(e,o),r=(null==i?void 0:i.domain)||a;return!(!i&&(r===e||!r))&&{domain:r}}catch(t){return!1}}},{key:"useEmailValidation",value:(M=(0,r.Z)(m().mark(function t(e,n){var i,o;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.config.skipEmailValidation){t.next=2;break}return t.abrupt("return",n(null));case 2:i=this.isEmailInvalid(e),o=i?'Did you mean <a href="#" onclick="window.DaliaNS.formsLoader.formsRenderer.replaceEmailDomain(\''.concat(i.domain,"')\">").concat(i.domain,"</a>?"):"",i&&this.renderCustomValidation(this.form$('input[type="email"]').parentElement,this.i18n?this.i18n._(o):o,!0),n(i?{message:o}:null);case 6:case"end":return t.stop()}},t,this)})),function(t,e){return M.apply(this,arguments)})},{key:"isValidPhone",value:function(t){var e=D.parse(t,"US");return D.isValidNumber(e)}},{key:"renderPhoneValidationMessage",value:function(t,e){var n=this.isValidPhone(t),i="Invalid phone number";!n&&this.renderCustomValidation(this.form$('input[name="data[phone]"]').parentElement,this.i18n?this.i18n._(i):i,!0),e(n?null:{message:i})}},{key:"beforeCancel",value:(T=(0,r.Z)(m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.hideForm("form_close");case 1:case"end":return t.stop()}},t,this)})),function(){return T.apply(this,arguments)})},{key:"beforeNext",value:(S=(0,r.Z)(m().mark(function t(e,n,i){var o,a,r,s,c;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.page=e.component.label,this.config.phoneNumberOnlyForm&&!n.data.email&&(n.data.email="phone_only_do_not_email+".concat((new Date).getTime(),"@dalia.co")),!this.form$('input[type="email"]')||!this.isEmailInvalid(n.data.email)){t.next=4;break}return t.abrupt("return",this.useEmailValidation(n.data.email,i));case 4:if(!this.form$('input[name="data[phone]"]')||!n.data.phone||this.isValidPhone(n.data.phone)){t.next=6;break}return t.abrupt("return",this.renderPhoneValidationMessage(n.data.phone,i));case 6:if(!this.form$(".dalia-forms-resume")){t.next=13;break}if(null==(r=null===(o=this.form.getComponent("resume"))||void 0===o?void 0:o.component)||null===(a=r.validate)||void 0===a||!a.required||this.formValues.resume){t.next=13;break}return(s=this.form$(".dalia-forms-resume .error-message")).innerText="Resume is required",this.show(s),t.abrupt("return",i({message:"Resume is required"}));case 13:if(!(c=this.formNode.querySelector(this.mapboxInputSelector))||this.formValues.location&&c.value){t.next=17;break}return this.customLocationValidation(),t.abrupt("return",i({message:"Location is invalid or missing"}));case 17:i();case 18:case"end":return t.stop()}},t,this)})),function(t,e,n){return S.apply(this,arguments)})},{key:"beforePrev",value:(x=(0,r.Z)(m().mark(function t(e,n,i){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.page=e.component.label,i();case 2:case"end":return t.stop()}},t,this)})),function(t,e,n){return x.apply(this,arguments)})},{key:"getThanksMessage",value:function(){var t;return this.screenOutPostSignupJobs?"\n        <h3>Thanks for signing up!</h3>\n        <p>Based on your answers, you are not qualified for ".concat(this.submissionData.job_title," at ").concat(this.formModel.Client.name,".</p>\n      "):null!==(t=this.config.clientJobsAfterSuccess)&&void 0!==t&&t.active?"\n        <h3>Thanks for signing up!</h3>\n        <p> There are no matching jobs for you right now, but we'll make sure you're the first to know when there are &#x1F642; </p>\n      ":void 0}},{key:"showSuccess",value:function(){var t,e=this,n=null===(t=this.submissionResponse)||void 0===t||null===(t=t.clientJobs)||void 0===t?void 0:t.jobs;(this.hide(this.loadingNode),null!=n&&n.length||!this.getThanksMessage())||(this.form$(".dalia-thanks").innerHTML=this.getThanksMessage());this.customPages(),this.selectors(),this.show(this.successNode),null!=n&&n.length&&!this.isScreenedOut&&this.form$$(".show-jobs").forEach(function(t){return t.classList.remove("d-none")}),this.form$("button.show-jobs")&&this.form$("button.show-jobs").attachListener("click",function(){e.showClientJobsForm(n),e.hide(e.successNode)})}},{key:"getClientJobsTitle",value:function(){return this.screenOutPostSignupJobs?"Based on your answers, you are not qualified for ".concat(this.submissionData.job_title," at ").concat(this.formModel.Client.name,". But these jobs might fit your interests!"):"Thanks for signing up, here are some matching jobs for you:"}},{key:"showClientJobs",value:(y=(0,r.Z)(m().mark(function t(e){var n,i;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=e&&(null===(n=e.jobs)||void 0===n?void 0:n.length),this.show(this.footerNode),i?(this.form$(".dalia-client-jobs .client-jobs__title").innerHTML='\n        <p style="font-size: 1rem">'.concat(this.getClientJobsTitle(),"</p>\n      "),this.customPages(),this.showClientJobsForm(e.jobs)):(this.customPages(),this.showSuccess()),this.hide(this.loadingNode);case 4:case"end":return t.stop()}},t,this)})),function(t){return y.apply(this,arguments)})},{key:"getClientJobsHTML",value:function(t){var e=this,n=this.config.clientJobsAfterSuccess.additionalTrackingParams;return null==t?"There are no jobs available at this moment":t.map(function(t){var i,o=t.tags||[],a=(Array.isArray(o)?o:[o]).find(function(t){return t.includes("category")}),r=new window.URL(t.url),s=null===(i=t.addresses)||void 0===i?void 0:i[0],c=(null==t?void 0:t.location)||[null==s?void 0:s.city,null==s?void 0:s.state].filter(Boolean).join(", ");return Object.keys(n).forEach(function(t){r.searchParams.set(t,n[t])}),'\n      <div class="client-jobs__item">\n        <div class="client-jobs__item__title">\n          <h5>\n            <a href="'.concat(r.toString(),'" target="_blank">\n              ').concat(t.title,'\n            </a>\n          </h5>\n          <a href="').concat(r.toString(),'" data-id=').concat(t.id,' class="apply-btn" target="_blank">').concat(e.showJobDetailsEnabled?"Job Details":"Apply",'</a>\n        </div>\n        <a style="text-transform: capitalize">').concat(c?"".concat(c):t.city," ").concat(a?" ● ".concat(a.split(":")[1].replace(/-/g," ")):"","</a>\n      </div>\n      <hr />\n    ")}).join("")}},{key:"showClientJobsForm",value:function(t){var e=this,n=this.document.createElement("div");n.innerHTML=this.getClientJobsHTML(t),this.config.eapply.enabled&&n.querySelectorAll(".client-jobs__item").forEach(function(n){var i=n.querySelector(".apply-btn"),o=i.getAttribute("data-id"),a=t.find(function(t){return t.id===o});n.attachListener("click",function(n){n.preventDefault(),n.stopPropagation();var o=e.startedEapplyApplications[a.id],r=e.showJobDetailsEnabled&&!o;i.innerHTML.includes("Applied")||(i.innerHTML='\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><radialGradient id="a12" cx=".66" fx=".66" cy=".3125" fy=".3125" gradientTransform="scale(1.5)"><stop offset="0" stop-color="#FFFFFF"></stop><stop offset=".3" stop-color="#FFFFFF" stop-opacity=".9"></stop><stop offset=".6" stop-color="#FFFFFF" stop-opacity=".6"></stop><stop offset=".8" stop-color="#FFFFFF" stop-opacity=".3"></stop><stop offset="1" stop-color="#FFFFFF" stop-opacity="0"></stop></radialGradient><circle transform-origin="center" fill="none" stroke="url(#a12)" stroke-width="15" stroke-linecap="round" stroke-dasharray="200 1000" stroke-dashoffset="0" cx="100" cy="100" r="70"><animateTransform type="rotate" attributeName="transform" calcMode="spline" dur="2" values="360;0" keyTimes="0;1" keySplines="0 0 1 1" repeatCount="indefinite"></animateTransform></circle><circle transform-origin="center" fill="none" opacity=".2" stroke="#FFFFFF" stroke-width="15" stroke-linecap="round" cx="100" cy="100" r="70"></circle></svg>          ',e.handleEapplyForJob(a,i,{containerComponent:e.daliaFormNode,otherComponent:e.form$(".dalia-client-jobs"),jobsCount:null==t?void 0:t.length,showJobDetails:r}))})}),this.form$(".dalia-client-jobs .client-jobs__list").prepend(n),this.formModel.Client.daliaCareerSite&&(this.form$(".view-all-btn").href=this.formModel.Client.daliaCareerSite),this.form$(".dalia-client-jobs").classList.remove("hide")}},{key:"returnVisitorPersonalization",value:(v=(0,r.Z)(m().mark(function t(e){var n,i,o,a,r,s,c,l,u,d,h,f,p,v,g,b,y,w,k,C,L,x,E,F,S,T,M,P,_,I,B,D=this;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.data.userId){t.next=3;break}return t.abrupt("return");case 3:if(o=this.config.rvp,(a=void 0===o?{}:o).active){t.next=6;break}return t.abrupt("return");case 6:r=a.blockLoadIfUrlContains,s=void 0===r?[]:r,c=a.matchingJobsLimit,l=void 0===c?1:c,u=a.jobUrlTrackingParams,d=void 0===u?{}:u,h=a.userTemplateAttributes,f=void 0===h?["first_name"]:h,p=a.titleTemplate,v=void 0===p?"Welcome back, %first_name%!":p,g=a.subtitleTemplate,b=void 0===g?"We found a new job for you":g,y=a.variants,w=void 0===y?[]:y,k=a.useClientLogo,C=void 0!==k&&k,L=a.forceSourceID,x=A(s),t.prev=8,x.s();case 10:if((E=x.n()).done){t.next=16;break}if(F=E.value,!window.location.href.includes(F)){t.next=14;break}return t.abrupt("return");case 14:t.next=10;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(8),x.e(t.t0);case 21:return t.prev=21,x.f(),t.finish(21);case 24:return S=this.getRVPVariant(w),e&&(S.isExpanded=!0),this.defaultTrackingParams=j(j(j({client_name:this.formModel.Client.name,rvp_variant:S.id},d),this.eventsAttributes),S.trackingParams),T=null===(n=this.data.eapplyFormOptions)||void 0===n||null===(n=n.job)||void 0===n?void 0:n.id,t.next=30,window.fetch("".concat(new URL(this.config.submitEndPoint).origin,"/api/v2/jobs/rvp"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(j({userId:this.data.userId,limit:(null==S?void 0:S.jobsLimit)||l,tracking:j(j({},this.defaultTrackingParams),{},{disableHostedJob:!0,enabled:!0,trackUrlType:"temp",event:"job_click"}),clientId:this.formModel.Client.id,showAllJobs:S.showAllJobs,forceSourceID:L},T&&{includeJobList:[T]}))});case 30:return M=t.sent,t.next=33,M.json().catch(function(t){return D.e("RVP endpoint",t)});case 33:if(P=t.sent,I=(_=P||{}).jobs,B=_.user,this.data.userName=this.data.userName||(null==B?void 0:B.first_name),null!=I&&I.jobs&&0!==(null==I||null===(i=I.jobs)||void 0===i?void 0:i.length)){t.next=39;break}return this.formsEvent.track("rvp_no_jobs_found",{params:j({},this.defaultTrackingParams)}),t.abrupt("return");case 39:this.initPlugins(),this.showRVPJobs(I.jobs,{user:B,userTemplateAttributes:f,titleTemplate:v,subtitleTemplate:b,useClientLogo:C,variant:S}),this.handleHiddingOnMobile(),e&&this.formsEvent.track("first_time_user",{params:j({},this.defaultTrackingParams)}),t.next=48;break;case 45:t.prev=45,t.t1=t.catch(0),this.d("RVP Error",t.t1);case 48:case"end":return t.stop()}},t,this,[[0,45],[8,18,21,24]])})),function(t){return v.apply(this,arguments)})},{key:"setRvpVariantId",value:function(t){this.data.rvpVariantId=t,this.saveData(this.demoMode)}},{key:"getRVPVariant",value:function(t){var e=this;if(null==t||!t.length)return Z.DEFAULT;if(1===t.length)return this.setRvpVariantId(null),j(j({},Z[t[0].id]),t[0]);if(this.data.rvpVariantId){var n=t.find(function(t){return t.id===e.data.rvpVariantId});if(n)return j(j({},Z[this.data.rvpVariantId]),n)}var i,o=0,a=t.sort(function(t,e){return t.chance-e.chance}).map(function(t){var e=o+t.chance;return o+=t.chance,j(j({},t),{},{cumulativeChance:e})}),r=Math.floor(100*Math.random()),s=A(a);try{for(s.s();!(i=s.n()).done;){var c=i.value,l=c||{},u=l.cumulativeChance,d=l.id;if(u>=r)return this.setRvpVariantId(d),j(j({},Z[d]),c)}}catch(t){s.e(t)}finally{s.f()}return Z.DEFAULT}},{key:"showRVPJobs",value:(p=(0,r.Z)(m().mark(function t(e,n){var i,o,a,r,s,c,l,u,d,h,f,p,v,b,y,w,k,C,L,x,E,F,S,T,M,A,P=this;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.DaliaNS.isRVPDisplayed){t.next=2;break}return t.abrupt("return");case 2:if(e&&e.length||this.data.eapplyFormOptions){t.next=4;break}return t.abrupt("return");case 4:if(o=n.variant||{},a=o.isExpanded,r=o.showBorder,s=o.emoji,c=o.styled,l=o.id,u=o.applyBtnText,d=void 0===u?"Apply Now":u,h=new CustomEvent("rvp_expanded"),f=new CustomEvent("rvp_collapsed"),p=this.formData.form.Client,v=p.daliaCareerSite,b=p.hasJobDetailsPage,y=p.siteShortName,w=this.data.isRVPidebarExpanded,e.length>1&&(n.subtitleTemplate="We've found ".concat(e.length," jobs for you")),k=function(t){return n.userTemplateAttributes.forEach(function(e){t=t.replace("%".concat(e,"%"),n.user[e])}),t},(C=this.rvpJobsContainer=document.createElement("div")).setAttribute("id","rvp-jobs-container"),C.classList.add(l),C.innerHTML='\n      <div id=\'rvp-jobs\'>\n        <div class="d-flex justify-content-between align-items-center" id="rvp-header">\n          <div class="d-flex align-items-center">\n              '.concat(n.useClientLogo?'<img src="'.concat(this.formModel.Client.logoUrl,'" class="rvp-client-logo" />'):s?'<span class="emoji">'.concat(s,"</span>"):"<svg xmlns='http://www.w3.org/2000/svg' width='22.719' height='22.719' viewBox='0 0 22.719 22.719'>\n                    <path id='briefcase' d='M140.6,1497.745h-1.456v-1.456a2.041,2.041,0,0,0-2.039-2.039h-6.99a2.041,2.041,0,0,0-2.039,2.039v1.456h-1.456c-2.818,0-4.369,1.552-4.369,4.369V1512.6c0,2.817,1.551,4.369,4.369,4.369H140.6c2.817,0,4.369-1.552,4.369-4.369v-10.485C144.969,1499.3,143.417,1497.745,140.6,1497.745Zm-10.777-1.456a.292.292,0,0,1,.291-.292h6.99a.292.292,0,0,1,.291.292v1.456h-7.573ZM124,1502.114c0-1.837.784-2.621,2.621-2.621H140.6c1.837,0,2.621.784,2.621,2.621v2.625a.867.867,0,0,1-.52.8,25.228,25.228,0,0,1-5.18,1.59.342.342,0,0,1-.319-.17,4.211,4.211,0,0,0-7.187,0,.333.333,0,0,1-.318.17,25.228,25.228,0,0,1-5.18-1.59.867.867,0,0,1-.52-.8v-2.625Zm16.6,13.107H126.619c-1.837,0-2.621-.784-2.621-2.621v-5.383a27.241,27.241,0,0,0,5.349,1.625,2.071,2.071,0,0,0,2.122-.911,2.468,2.468,0,0,1,4.282,0,2.092,2.092,0,0,0,1.729.951,1.965,1.965,0,0,0,.393-.04,27.259,27.259,0,0,0,5.35-1.625v5.383C143.221,1514.437,142.437,1515.221,140.6,1515.221Zm-5.8-6.117a1.168,1.168,0,1,1-1.177-1.165h.012A1.165,1.165,0,0,1,134.8,1509.1Z' transform='translate(-122.25 -1494.25)' fill='currentColor' />\n                    </svg>","\n              <div class='d-flex flex-column py-2 px-4'>\n                <p class=\"text-grey mb-0 welcome-message\">").concat(k(n.titleTemplate),'</p>\n                <p class="mb-0">').concat(k(n.subtitleTemplate),'</p>\n              </div>\n          </div>\n          <svg xmlns="http://www.w3.org/2000/svg" width="31.393" height="31.393" viewBox="0 0 31.393 31.393" class="close-icon transform-rotate-0">\n              <g id="Group_129" data-name="Group 129" transform="translate(-1766.584 -755.522)">\n                <rect id="Rectangle_83" data-name="Rectangle 83" width="31.393" height="31.393" rx="15.697" transform="translate(1766.584 755.522)" fill="currentColor" opacity="0.15"/>\n                <path id="angle-down-small" d="M4.995,5.783a.782.782,0,0,1-.557-.231L.231,1.345A.788.788,0,1,1,1.346.231L4.995,3.88,8.643.231A.788.788,0,0,1,9.758,1.345L5.552,5.552A.783.783,0,0,1,4.995,5.783Z" transform="translate(1787.313 773.697) rotate(180)" fill="currentColor"/>\n              </g>\n          </svg>\n        </div>\n        <div id="rvp-body">\n          <div id="jobs-list" class="border-top"></div>\n          <hr class="my-1" />\n          ').concat(v?'<div class="explore-jobs">\n              <svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" viewBox="0 0 45 45" fill="none">\n                <path opacity="0.4" d="M39.375 22.4062V33.7501C39.375 37.5001 37.5 39.3751 33.75 39.3751H11.25C7.5 39.3751 5.625 37.5001 5.625 33.7501V22.3875C6.1875 23.0437 6.89999 23.55 7.74374 23.8875C9.80624 24.6938 12.6375 25.6501 15.9375 26.3251C16.7063 26.4751 17.4562 26.1 17.8875 25.4625C18.9 23.9437 20.5875 22.8377 22.5 22.8377C24.4125 22.8377 26.1 23.9437 27.1125 25.4625C27.5625 26.1 28.3125 26.4751 29.0812 26.3251C32.3812 25.6501 35.2125 24.6938 37.2562 23.8875C38.0812 23.55 38.8125 23.0437 39.375 22.4062Z" fill="currentColor"/>\n                <path d="M39.375 16.875V22.4062C38.8125 23.0437 38.0812 23.55 37.2562 23.8875C35.2125 24.6937 32.3812 25.6501 29.0812 26.3251C28.3125 26.4751 27.5625 26.0999 27.1125 25.4624C26.1 23.9437 24.4125 22.8376 22.5 22.8376C20.5875 22.8376 18.9 23.9437 17.8875 25.4624C17.4562 26.0999 16.7063 26.4751 15.9375 26.3251C12.6375 25.6501 9.80624 24.6937 7.74374 23.8875C6.89999 23.55 6.1875 23.0436 5.625 22.3874V16.875C5.625 13.125 7.5 11.25 11.25 11.25H33.75C37.5 11.25 39.375 13.125 39.375 16.875Z" fill="currentColor"/>\n                <path opacity="0.4" d="M31.4062 8.4375V11.25H28.5937V8.4375C28.5937 8.175 28.3875 7.96875 28.125 7.96875H16.875C16.6125 7.96875 16.4062 8.175 16.4062 8.4375V11.25H13.5938V8.4375C13.5938 6.6375 15.0562 5.15625 16.875 5.15625H28.125C29.925 5.15625 31.4062 6.6375 31.4062 8.4375Z" fill="currentColor"/>\n                <path d="M22.5037 30C21.4706 30 20.625 29.16 20.625 28.125C20.625 27.09 21.4556 26.25 22.4888 26.25H22.5037C23.5369 26.25 24.375 27.09 24.375 28.125C24.375 29.16 23.5369 30 22.5037 30Z" fill="currentColor"/>\n              </svg>\n              <a class="btn" href='.concat(v,' target="_blank" >\n                  <span>Explore More Jobs</span>\n                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">\n                      <path d="M20.6919 12.2871C20.6539 12.3791 20.599 12.462 20.53 12.531L16.53 16.531C16.384 16.677 16.192 16.751 16 16.751C15.808 16.751 15.616 16.678 15.47 16.531C15.177 16.238 15.177 15.763 15.47 15.47L18.1899 12.75H4C3.586 12.75 3.25 12.414 3.25 12C3.25 11.586 3.586 11.25 4 11.25H18.189L15.469 8.53005C15.176 8.23705 15.176 7.76202 15.469 7.46902C15.762 7.17602 16.237 7.17602 16.53 7.46902L20.53 11.469C20.599 11.538 20.6539 11.6209 20.6919 11.7129C20.7679 11.8969 20.7679 12.1031 20.6919 12.2871Z" fill="currentColor"/>\n                  </svg>\n              </a>\n            </div>'):"",'\n        </div>\n      </div>\n      <div class="powered-by">\n      <a href="https://www.dalia.co">\n        <svg xmlns="http://www.w3.org/2000/svg" width="166" height="22" viewBox="0 0 166 22" fill="none">\n          <path d="M94.4288 14.8728L97.189 7.67236H99.212L93.4173 21.5589H91.3943L93.3145 16.9643L89.5942 7.67236H91.7715L94.4288 14.8728Z" fill="black"/>\n          <path d="M81.0438 9.07812C81.6609 8.22093 82.8439 7.51803 84.3354 7.51803C86.8384 7.51803 88.7756 9.43814 88.7756 12.3526C88.7756 15.2671 86.8212 17.2729 84.3354 17.2729C82.7753 17.2729 81.6609 16.57 81.0438 15.7471V17.1186H79.0894V4.43213H81.0438V9.07812ZM86.787 12.3526C86.787 10.3125 85.3812 9.21527 83.9068 9.21527C82.4496 9.21527 81.0438 10.3639 81.0438 12.3869C81.0438 14.427 82.4496 15.5757 83.9068 15.5757C85.3812 15.5757 86.787 14.3927 86.787 12.3526Z" fill="black"/>\n          <path d="M62.3667 12.3526C62.3667 9.43814 64.3382 7.51803 66.8413 7.51803C68.0756 7.51803 69.3785 8.10092 70.0986 8.9924V4.43213H72.0701V17.1186H70.0986V15.6957C69.4986 16.5529 68.3671 17.2729 66.8241 17.2729C64.3382 17.2729 62.3667 15.2671 62.3667 12.3526ZM70.0986 12.3869C70.0986 10.3639 68.7099 9.21527 67.2356 9.21527C65.7783 9.21527 64.3725 10.3125 64.3725 12.3526C64.3725 14.3927 65.7783 15.5757 67.2356 15.5757C68.7099 15.5757 70.0986 14.427 70.0986 12.3869Z" fill="black"/>\n          <path d="M56.4145 9.16388C55.0944 9.16388 54.0315 10.0554 53.8258 11.5469H59.0546C59.0204 10.0896 57.8717 9.16388 56.4145 9.16388ZM60.8376 14.307C60.3062 15.9529 58.8146 17.2729 56.5002 17.2729C53.7915 17.2729 51.7856 15.3528 51.7856 12.3869C51.7856 9.42104 53.7058 7.51807 56.5002 7.51807C59.1918 7.51807 61.0948 9.38675 61.0948 12.1641C61.0948 12.4898 61.0776 12.7984 61.0262 13.1241H53.8086C53.9458 14.6842 55.0601 15.6271 56.5002 15.6271C57.7003 15.6271 58.3689 15.0442 58.7289 14.307H60.8376Z" fill="black"/>\n          <path d="M47.8108 12.1469V17.1186H45.8564V7.67236H47.8108V9.04387C48.3595 8.10096 49.3024 7.51807 50.6396 7.51807V9.54104H50.1424C48.7023 9.54104 47.8108 10.1411 47.8108 12.1469Z" fill="black"/>\n          <path d="M39.2539 9.16388C37.9338 9.16388 36.8708 10.0554 36.6651 11.5469H41.894C41.8597 10.0896 40.7111 9.16388 39.2539 9.16388ZM43.677 14.307C43.1455 15.9529 41.654 17.2729 39.3396 17.2729C36.6308 17.2729 34.625 15.3528 34.625 12.3869C34.625 9.42104 36.5451 7.51807 39.3396 7.51807C42.0312 7.51807 43.9341 9.38675 43.9341 12.1641C43.9341 12.4898 43.917 12.7984 43.8656 13.1241H36.648C36.7851 14.6842 37.8995 15.6271 39.3396 15.6271C40.5396 15.6271 41.2083 15.0442 41.5683 14.307H43.677Z" fill="black"/>\n          <path d="M22.9629 17.1186L20.0142 7.67236H22.0029L23.9744 15.2671L25.9802 7.67236H28.0204L29.9405 15.2328L31.8949 7.67236H33.815L30.8834 17.1186H28.8261L26.9231 10.1411L25.0202 17.1186H22.9629Z" fill="black"/>\n          <path d="M19.1969 12.3869C19.1969 15.3528 17.0025 17.2729 14.2937 17.2729C11.6021 17.2729 9.56201 15.3528 9.56201 12.3869C9.56201 9.42104 11.6879 7.51807 14.3794 7.51807C17.071 7.51807 19.1969 9.42104 19.1969 12.3869ZM11.5507 12.3869C11.5507 14.5299 12.8194 15.5757 14.2937 15.5757C15.751 15.5757 17.191 14.5299 17.191 12.3869C17.191 10.2439 15.8024 9.21531 14.3452 9.21531C12.8708 9.21531 11.5507 10.2439 11.5507 12.3869Z" fill="black"/>\n          <path d="M1.9544 10.6897H4.11453C5.64034 10.6897 6.3261 9.95247 6.3261 8.7524C6.3261 7.51804 5.64034 6.79799 4.11453 6.79799H1.9544V10.6897ZM8.33193 8.7524C8.33193 10.4496 7.21758 12.284 4.11453 12.284H1.9544V17.1186H0V5.20361H4.11453C6.94327 5.20361 8.33193 6.81514 8.33193 8.7524Z" fill="black"/>\n          <path d="M135.571 7.45851H132.612C132.329 7.45851 132.101 7.67491 132.101 7.94245V8.54836C128.926 6.12472 124.276 6.59686 121.719 9.61067C119.163 12.6205 119.661 17.0272 122.84 19.4508C125.543 21.5164 129.399 21.5164 132.105 19.4508V20.0567C132.105 20.3243 132.333 20.5406 132.616 20.5406H135.575C135.858 20.5406 136.086 20.3243 136.086 20.0567V7.93852C136.086 7.67097 135.858 7.45458 135.575 7.45458L135.571 7.45851ZM127.477 17.2239C125.596 17.2239 124.073 15.7799 124.073 13.9976C124.073 12.2153 125.596 10.7713 127.477 10.7713C129.357 10.7713 130.881 12.2153 130.881 13.9976C130.881 15.776 129.357 17.2199 127.477 17.2239Z" fill="#6F00FF"/>\n          <path d="M110.274 3H105.575C105.305 3 105.086 3.22356 105.086 3.49997V20.4988C105.086 20.7752 105.305 20.9988 105.575 20.9988H110.139C115.002 21.0801 119.005 17.1169 119.085 12.1498C119.164 7.17858 115.288 3.08536 110.429 3.00406C110.378 3.00406 110.33 3.00406 110.278 3.00406L110.274 3ZM110.179 16.9706H108.895V7.02818H110.274C112.962 7.02818 115.141 9.2638 115.137 12.0116C115.137 12.0441 115.137 12.0807 115.137 12.1132C115.041 14.8366 112.843 16.9909 110.179 16.9706Z" fill="#6F00FF"/>\n          <path d="M164.571 7.45851H161.612C161.329 7.45851 161.101 7.67491 161.101 7.94245V8.54836C157.926 6.12472 153.276 6.59686 150.719 9.61067C148.163 12.6205 148.661 17.0272 151.84 19.4508C154.543 21.5164 158.399 21.5164 161.105 19.4508V20.0567C161.105 20.3243 161.333 20.5406 161.616 20.5406H164.575C164.858 20.5406 165.086 20.3243 165.086 20.0567V7.93852C165.086 7.67097 164.858 7.45458 164.575 7.45458L164.571 7.45851ZM156.477 17.2239C154.596 17.2239 153.073 15.7799 153.073 13.9976C153.073 12.2153 154.596 10.7713 156.477 10.7713C158.357 10.7713 159.881 12.2153 159.881 13.9976C159.881 15.776 158.357 17.2199 156.477 17.2239Z" fill="#6F00FF"/>\n          <path d="M141.589 21H138.582C138.308 21 138.086 20.7675 138.086 20.48V0.520032C138.086 0.232535 138.308 0 138.582 0H141.589C141.864 0 142.086 0.232535 142.086 0.520032V20.48C142.086 20.7675 141.864 21 141.589 21Z" fill="#6F00FF"/>\n          <path d="M147.589 21H144.582C144.308 21 144.086 20.7684 144.086 20.4819V7.51805C144.086 7.23165 144.308 7 144.582 7H147.589C147.864 7 148.086 7.23165 148.086 7.51805V20.4819C148.086 20.7684 147.864 21 147.589 21Z" fill="#6F00FF"/>\n          <path d="M146.086 5C147.191 5 148.086 3.88071 148.086 2.5C148.086 1.11929 147.191 0 146.086 0C144.981 0 144.086 1.11929 144.086 2.5C144.086 3.88071 144.981 5 146.086 5Z" fill="#6F00FF"/>\n        </svg>\n      </a>\n    </div>\n    '),L=e.find(function(t){var e;return t.id===(null===(e=P.data.eapplyFormOptions)||void 0===e||null===(e=e.job)||void 0===e?void 0:e.id)}),x=v&&!b&&window.location.host.includes(y),L&&C.classList.add("hide"),setTimeout(function(){var t=C.querySelector("#rvp-header"),e=!1;["mousedown","touchstart"].forEach(function(n){t.attachListener(n,function(){var n=window.getComputedStyle(C).left;t.attachListener("mouseup",function t(){var i=window.getComputedStyle(C).left;e=i!==n,window.removeEventListener("mouseup",t)})})}),P.handleClickingOnRVPHeader=function(){var t=P.form$("#rvp-jobs-container .close-icon"),e=C.classList.contains("expanded");e?(C.classList.remove("expanded"),t.classList.add("transform-rotate-0"),P.formsEvent.track("rvp_minimize",{params:j({},P.defaultTrackingParams)}),P.data.rvpSidebarExpanded=!1,document.dispatchEvent(f)):(C.classList.add("expanded"),t.classList.remove("transform-rotate-0"),P.formsEvent.track("rvp_maximize",{params:j({},P.defaultTrackingParams)}),P.data.rvpSidebarExpanded=!0,document.dispatchEvent(h)),l===Z.SIDEBAR.id&&(P.data.isRVPidebarExpanded=!e,P.saveData(P.demoMode))},t.attachListener("click",function(){e?e=!1:P.handleClickingOnRVPHeader()}),g.default.makeDraggable(C,t)},0),E=C.querySelector("#jobs-list"),e.forEach(function(t){var e,n=document.createElement("div"),i=null===(e=t.addresses)||void 0===e?void 0:e[0],o=(null==t?void 0:t.location)||[null==i?void 0:i.city,null==i?void 0:i.state].filter(Boolean).join(", ")||(null==i?void 0:i.country);n.classList.add("card-body","fs-6");var a=P.startedEapplyApplications[t.id]||t.applyStarted,r=P.showJobDetailsEnabled&&!a?"Job Details":d;P.eapplyEnabled&&a&&(n.classList.add("in-progress-application"),r="Continue"),n.innerHTML='\n        <span>\n        <svg class="in-progress-icon" fill="var(--primary-color)" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24.00 24.00" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0" transform="translate(2.040000000000001,2.040000000000001), scale(0.83)"><rect x="0" y="0" width="24.00" height="24.00" rx="12" fill="#ffffff" strokewidth="0"></rect></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css"> .st0{fill:none;} </style> <path d="M11.7,2c-0.1,0-0.1,0-0.2,0c0,0,0,0-0.1,0v0c-0.2,0-0.3,0-0.5,0l0.2,2c0.4,0,0.9,0,1.3,0c4,0.3,7.3,3.5,7.5,7.6 c0.2,4.4-3.2,8.2-7.6,8.4c0,0-0.1,0-0.2,0c-0.3,0-0.7,0-1,0L11,22c0.4,0,0.8,0,1.3,0c0.1,0,0.3,0,0.4,0v0c5.4-0.4,9.5-5,9.3-10.4 c-0.2-5.1-4.3-9.1-9.3-9.5v0c0,0,0,0,0,0c-0.2,0-0.3,0-0.5,0C12,2,11.9,2,11.7,2z M8.2,2.7C7.7,3,7.2,3.2,6.7,3.5l1.1,1.7 C8.1,5,8.5,4.8,8.9,4.6L8.2,2.7z M4.5,5.4c-0.4,0.4-0.7,0.9-1,1.3l1.7,1C5.4,7.4,5.7,7.1,6,6.7L4.5,5.4z M15.4,8.4l-4.6,5.2 l-2.7-2.1L7,13.2l4.2,3.2l5.8-6.6L15.4,8.4z M2.4,9c-0.2,0.5-0.3,1.1-0.3,1.6l2,0.3c0.1-0.4,0.1-0.9,0.3-1.3L2.4,9z M4.1,13l-2,0.2 c0,0.1,0,0.2,0,0.3c0.1,0.4,0.2,0.9,0.3,1.3l1.9-0.6c-0.1-0.3-0.2-0.7-0.2-1.1L4.1,13z M5.2,16.2l-1.7,1.1c0.3,0.5,0.6,0.9,1,1.3 L6,17.3C5.7,16.9,5.4,16.6,5.2,16.2z M7.8,18.8l-1.1,1.7c0.5,0.3,1,0.5,1.5,0.8l0.8-1.8C8.5,19.2,8.1,19,7.8,18.8z"></path> <rect class="st0" width="24" height="24"></rect> </g></svg>\n        </span>\n        <a class="cursor-pointer" href="'.concat(t.url,'" target="_blank">\n          <div class="d-flex justify-content-between align-items-center">\n            <div class="d-flex flex-column job-details-container">\n              <div class="d-flex align-items-center">\n                <p class="job-title mb-1 text-black fw-bold" data-job-id=').concat(t.id," data-job-title=").concat(t.title_slug,">").concat(t.title,"\n                  ").concat(t.new?'<span class="badge badge-pill bg-danger">New</span>':"","\n                  ").concat(t.viewed?'<span class="badge badge-pill bg-secondary">viewed</span>':"",'\n                </p>\n              </div>\n\n              <div class="d-flex align-items-center pt-1 pl-1 location">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" class="ml-1 mr-2">\n                    <path d="M7.99996 1.5C4.78329 1.5 2.16663 4.11667 2.16663 7.33333C2.16663 10.7453 5.29795 12.8133 7.36995 14.182L7.72263 14.416C7.80663 14.472 7.90329 14.5 7.99996 14.5C8.09663 14.5 8.19329 14.472 8.27729 14.416L8.62996 14.182C10.702 12.8133 13.8333 10.7453 13.8333 7.33333C13.8333 4.11667 11.2166 1.5 7.99996 1.5ZM8.0793 13.3473L7.99996 13.4001L7.92062 13.3473C5.91396 12.022 3.16663 10.2073 3.16663 7.33333C3.16663 4.668 5.33463 2.5 7.99996 2.5C10.6653 2.5 12.8333 4.668 12.8333 7.33333C12.8333 10.2073 10.0853 12.0227 8.0793 13.3473ZM7.99996 5.16667C6.80529 5.16667 5.83329 6.13867 5.83329 7.33333C5.83329 8.528 6.80529 9.5 7.99996 9.5C9.19463 9.5 10.1666 8.528 10.1666 7.33333C10.1666 6.13867 9.19463 5.16667 7.99996 5.16667ZM7.99996 8.5C7.35663 8.5 6.83329 7.97667 6.83329 7.33333C6.83329 6.69 7.35663 6.16667 7.99996 6.16667C8.64329 6.16667 9.16663 6.69 9.16663 7.33333C9.16663 7.97667 8.64329 8.5 7.99996 8.5Z" fill="#4B4B4B"/>\n                  </svg>\n                <p class="text-capitalize job-location text-grey mb-0">').concat(o,'</p>\n              </div>\n              <div class="d-flex align-items-center pt-1 pl-1 posted-date">\n                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="ml-1 mr-2" focusable="false" role="presentation" viewBox="0 0 24 24">\n                  <g fill-rule="evenodd">\n                  <circle cx="12" cy="12" r="9" fill="none">\n                    </circle><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z" fill="currentColor"></path><path d="M12 12h4.497c.278 0 .503.214.503.505v.99a.509.509 0 0 1-.503.505h-5.992a.509.509 0 0 1-.505-.503V7.503c0-.278.214-.503.505-.503h.99c.279 0 .505.233.505.503V12z" fill="currentColor" ></path></g></svg>\n                <p class="text-grey mb-0"><span class="job-posted-date">Posted ').concat(g.default.timeAgo(new Date(t.posted_date)),'</span></p>\n              </div>\n            </div>\n            <button class="btn btn-primary" data-id=').concat(t.id,">").concat(r,"</button>\n          </div>\n        </a>\n"),E.appendChild(n)}),r&&C.classList.add("border"),c&&C.classList.add("styled"),null!==(i=this.data.eapplyFormOptions)&&void 0!==i&&i.startedInForm||!(w||!1!==w&&a)||(F=C.querySelector(".close-icon"),C.classList.add("expanded"),F.classList.remove("transform-rotate-0"),document.dispatchEvent(h)),!this.config.eapply.enabled){t.next=33;break}if(S={containerComponent:C,otherComponent:C.querySelector("#rvp-jobs"),isRVP:!0,jobsCount:e.length},C.querySelectorAll(".card-body").forEach(function(t){t.querySelector("a").removeAttribute("href");var n=t.querySelector("button.btn-primary"),i=n.getAttribute("data-id"),o=e.find(function(t){return t.id===i});o.id===(null==L?void 0:L.id)&&(T=t,M=n),t.attachListener("click",function(e){var i=P.startedEapplyApplications[o.id]||o.applyStarted;n.innerHTML='\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" class="loading"><radialGradient id="a12" cx=".66" fx=".66" cy=".3125" fy=".3125" gradientTransform="scale(1.5)"><stop offset="0" stop-color="#FFFFFF"></stop><stop offset=".3" stop-color="#FFFFFF" stop-opacity=".9"></stop><stop offset=".6" stop-color="#FFFFFF" stop-opacity=".6"></stop><stop offset=".8" stop-color="#FFFFFF" stop-opacity=".3"></stop><stop offset="1" stop-color="#FFFFFF" stop-opacity="0"></stop></radialGradient><circle transform-origin="center" fill="none" stroke="url(#a12)" stroke-width="15" stroke-linecap="round" stroke-dasharray="200 1000" stroke-dashoffset="0" cx="100" cy="100" r="70"><animateTransform type="rotate" attributeName="transform" calcMode="spline" dur="2" values="360;0" keyTimes="0;1" keySplines="0 0 1 1" repeatCount="indefinite"></animateTransform></circle><circle transform-origin="center" fill="none" opacity=".2" stroke="#FFFFFF" stroke-width="15" stroke-linecap="round" cx="100" cy="100" r="70"></circle></svg>          ',e.preventDefault(),n.classList.add("loading"),P.handleEapplyForJob(o,n,j(j({},S),{},{jobElement:t,showJobDetails:P.showJobDetailsEnabled&&!i}))})}),!L){t.next=31;break}return A=this.startedEapplyApplications[L.id]||L.applyStarted,t.next=31,this.handleEapplyForJob(L,M,j(j(j({},this.data.eapplyFormOptions),S),{},{jobElement:T,showJobDetails:this.showJobDetailsEnabled&&!A}));case 31:t.next=34;break;case 33:x&&C.querySelectorAll(".card-body").forEach(function(t){t.attachListener("click",function(e){e.preventDefault(),window.dispatchEvent(new CustomEvent("rvp-job-clicked",{detail:{jobElement:t}})),g.default.isMobile()||P.handleClickingOnRVPHeader()})});case 34:this.formRoot.appendChild(C),window.DaliaNS.isRVPDisplayed=!0,null!=e&&e.length&&this.formsEvent.track("rvp_show",{params:j({},this.defaultTrackingParams)});case 37:case"end":return t.stop()}},t,this)})),function(t,e){return p.apply(this,arguments)})},{key:"shouldContinueApplyJobInForm",value:function(){var t,e;return null!=(null===(t=this.data)||void 0===t?void 0:t.eapplyFormOptions)&&!0!==(null===(e=this.config)||void 0===e||null===(e=e.rvp)||void 0===e?void 0:e.active)}},{key:"handleJobTitleRadioTabs",value:function(t){if(t&&"job_title"===t.component.key){var e=this.form.submission.data.job_title;g.default.findComponentsByKey(this.form.components,"job_title").forEach(function(t){t.getValue()!==e&&t.setValue(e,{noUpdateEvent:!0,noValidate:!0})})}}}]),e}(v.default)},53894:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});n(30050);var i=n(15671),o=n(43144),a=n(82963),r=n(61120),s=n(79340);n(49693),n(60228),n(47522),n(41517);function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}var l=function(t){function e(){return(0,i.Z)(this,e),t=this,n=e,o=arguments,n=(0,r.Z)(n),(0,a.Z)(t,c()?Reflect.construct(n,o||[],(0,r.Z)(t).constructor):n.apply(t,o));var t,n,o}return(0,s.Z)(e,t),(0,o.Z)(e,[{key:"init",value:function(){var t=this;this.$$("input").forEach(function(e){e.addEventListener("focus",function(){t.focusedElement=e,t.adjustScroll()}),e.addEventListener("blur",function(){t.focusedElement=null})}),window.addEventListener("resize",this.adjustScroll.bind(this))}},{key:"adjustScroll",value:function(){this.focusedElement&&this.focusedElement.getBoundingClientRect&&(this.root.querySelector(".dalia-form").scrollTop+=this.focusedElement.getBoundingClientRect().top)}}]),e}(n(35153).default)},82488:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var i=n(15671),o=n(43144),a=(n(96869),function(){function t(e){(0,i.Z)(this,t),this.form=e}return(0,o.Z)(t,[{key:"init",value:function(){var t;if(window.mouseflow)this.initListeners();else{window._mfq=window._mfq||[],window._mfq.push(["config","autoStart",!1]),window._mfq.push(["config","autoTagging",!1]);var e=document.createElement("script");e.type="text/javascript",e.defer=!0,e.src="//cdn.mouseflow.com/projects/".concat(null===(t=this.form.config)||void 0===t||null===(t=t.mouseflow)||void 0===t?void 0:t.projectId,".js"),document.getElementsByTagName("head")[0].appendChild(e),this.initListeners()}}},{key:"initListeners",value:function(){var t=this;document.addEventListener("form_load",function(){t.startRecording({eventName:"formSubmitAttempt"})}),document.addEventListener("form_submit",function(){t.endRecording({eventName:"formSubmitSuccess"})}),document.addEventListener("dismiss_after_signup",function(){t.endRecording({eventName:"formSubmitFailure"})}),document.addEventListener("dismiss",function(){t.endRecording({eventName:"formSubmitFailure"})}),document.addEventListener("form_error",function(){t.endRecording({eventName:"formSubmitFailure"})}),document.addEventListener("rvp_expanded",function(){t.startRecording({customEventName:"rvpOpened"})}),document.addEventListener("rvp_collapsed",function(){t.endRecording({customEventName:"rvpClosed"})})}},{key:"startRecording",value:function(t){var e,n,i=this,o=t.eventName,a=t.customEventName;if(!window.mouseflow)return setTimeout(function(){i.startRecording(t)},500);(o?window._mfq.push([o,this.form.formModel.id]):a&&window._mfq.push(["setVariable",a,this.form.formModel.id]),null!==(e=this.form.config)&&void 0!==e&&null!==(e=e.eventsAttributes)&&void 0!==e&&e.group)&&window._mfq.push(["tag",null===(n=this.form.config)||void 0===n||null===(n=n.eventsAttributes)||void 0===n?void 0:n.group]);window.mouseflow.isRecording()||window.mouseflow.start()}},{key:"endRecording",value:function(t){var e=t.eventName,n=t.customEventName;e?window._mfq.push([e,this.form.formModel.id]):n&&window._mfq.push(["setVariable",n,this.form.formModel.id]),window._mfq.push(["stop"])}}]),t}())},35153:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var i=n(15671),o=n(43144),a=function(){function t(e){(0,i.Z)(this,t),this.root=e}return(0,o.Z)(t,[{key:"$",value:function(t){return this.root.querySelector(t)}},{key:"$$",value:function(t){return this.root.querySelectorAll(t)}}]),t}()},57515:(t,e,n)=>{var i={"./acosta":[83412,412],"./acosta.js":[83412,412],"./elderwood":[99286,286],"./elderwood.js":[99286,286],"./elior-north-america":[1e3,430],"./elior-north-america.js":[1e3,430],"./forms-callbacks-base":[54413,413],"./forms-callbacks-base.js":[54413,413],"./gecko":[45061,306],"./gecko.js":[45061,306],"./paradox-detector":[78283,283],"./paradox-detector.js":[78283,283],"./partners-personnel":[5575,575],"./partners-personnel.js":[5575,575]};function o(t){if(!n.o(i,t))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=i[t],o=e[0];return n.e(e[1]).then(()=>n(o))}o.keys=()=>Object.keys(i),o.id=57515,t.exports=o}}]);