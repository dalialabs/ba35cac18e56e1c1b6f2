"use strict";(self.webpackChunkmaia_node=self.webpackChunkmaia_node||[]).push([[82],{22769:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(10467),i=n(23029),s=n(92901),a=n(54756),o=n.n(a),c=(n(72712),n(26099),n(3362),n(76031),function(){return(0,s.A)(function e(){(0,i.A)(this,e)},null,[{key:"debounce",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];clearTimeout(t),t=setTimeout(function(){e.apply(n,s)},r)}}},{key:"isMobile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:760;return window&&window.innerWidth<e}},{key:"dotPath",value:function(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}},{key:"sleep",value:(e=(0,r.A)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return setTimeout(e,t)}));case 1:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})}]);var e}())},34527:(e,t,n)=>{var r=n(43724),i=n(34376),s=TypeError,a=Object.getOwnPropertyDescriptor,o=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(i(e)&&!a(e,"length").writable)throw new s("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},49082:(e,t,n)=>{n.d(t,{default:()=>d});var r=n(10467),i=n(23029),s=n(92901),a=n(54756),o=n.n(a),c=(n(28706),n(52675),n(89463),n(2259),n(2008),n(51629),n(23418),n(74423),n(25276),n(23792),n(48598),n(54554),n(64346),n(34782),n(23288),n(62010),n(26099),n(3362),n(27495),n(38781),n(21699),n(47764),n(23500),n(62953),n(3296),n(27208),n(48408),n(22769));function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const d=function(){return(0,s.A)(function e(t){(0,i.A)(this,e);var n=t.getItemValue,r=t.placeholder,s=t.countries,a=t.types,o=t.language,c=t.minLength,u=t.limits,l=t.APIURL,d=t.clientName,h=t.certainLocations,p=t.initValue,g=t.suggestedLocations;this.getItemValue=n,this.placeholder=r,this.countries=s,this.types=a,this.language=o,this.minLength=c,this.limits=u,this.callbacks={},this.APIURL=l,this.clientName=d,this.certainLocations=null!=h?h:[],this.initValue=p,this.suggestedLocations=g},[{key:"onAdd",value:function(){var e=this,t=document.createElement("div"),n=document.createElement("input"),i=document.createElement("div"),s=document.createElement("ul"),a=document.createElement("div"),u=document.createElement("button");this.searchInput=n,this.suggestionsList=s,this.suggestionsWrapper=i,this.closeBtn=u,t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl",this.searchInput.className="mapboxgl-ctrl-geocoder--input",i.className="suggestions-wrapper",s.className="suggestions",i.style.display="none";var l=document.createElement("div");return l.classList.add("suggestions-header"),l.innerHTML="\n      <span> Suggested Locations </span>\n    ",i.appendChild(l),this.searchInput.placeholder=this.placeholder,a.className="mapboxgl-ctrl-geocoder--pin-right",u.className="mapboxgl-ctrl-geocoder--button",u.type="button",u.innerHTML='<svg class="mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-close" viewBox="0 0 18 18" xml:space="preserve" width="18" height="18"><path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"></path></svg>',t.addEventListener("click",function(){e.searchInput.focus(),e.suggestedLocations&&e.renderLocations(e.suggestedLocations)}),t.addEventListener("mouseenter",function(){e.searchInput.value&&(u.style.display="block")}),t.addEventListener("mouseleave",function(){e.suggestedLocations||(u.style.display="none")}),c.A.isMobile()||document.addEventListener("click",function(e){document.querySelector("#search-input").contains(e.target)||(i.style.display="none")}),this.searchInput.addEventListener("focus",function(){e.searchInput.value||e.processSuggestionList()}),this.searchInput.addEventListener("keyup",c.A.debounce(function(){var t=(0,r.A)(o().mark(function t(r){var a,c;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.searchInput.value?u.style.display="block":u.style.display="none","Escape"===r.key&&(s.innerHTML="",i.style.display="none",n.value=""),""===e.searchInput.value&&(i.style.display="none",e.processSuggestionList(),e.suggestedLocations&&e.renderLocations(e.suggestedLocations)),!(e.searchInput.value.length>=e.minLength)){t.next=3;break}return t.next=1,e.getLocations(e.searchInput.value);case 1:if(!((a=t.sent).length>0)){t.next=3;break}if(!(e.certainLocations&&e.certainLocations.length>0)){t.next=2;break}return c=a.filter(function(t){return e.certainLocations.includes(t.address)}),e.emit("results",{features:c}),e.renderLocations(c,"Enter"===r.key),t.abrupt("return");case 2:e.emit("results",{features:a}),e.renderLocations(a,"Enter"===r.key);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),u.addEventListener("click",function(t){e.searchInput.value="",u.style.display="none",i.style.display="none",e.emit("clear"),e.emit("results",{features:[]}),e.emit("result",""),t.stopPropagation()}),i.appendChild(s),t.appendChild(this.searchInput),t.appendChild(i),a.appendChild(u),t.appendChild(a),this.processSuggestionList(),t}},{key:"isSameLocation",value:function(e,t){return!(!e.longitude||null==t||!t.longitude)&&(e.latitude===t.latitude&&e.longitude===t.longitude)}},{key:"renderLocations",value:function(e,t){var n=this;if(t){var r=this.getItemValue(e[0]);return this.searchInput.value=r,this.suggestionsList.innerHTML="",this.suggestionsWrapper.style.display="none",void this.emit("result",r)}this.suggestionsList.innerHTML="",this.suggestionsWrapper.style.display=e.length?"block":"none";var i,s=u(e);try{var a=function(){var e,t,r=i.value,s=document.createElement("li"),a=document.createElement("a"),o=r.city||r.state,c=r.state;null!==(e=n.types)&&void 0!==e&&null!==(t=e.includes)&&void 0!==t&&t.call(e,"postcode")&&(o=r.address,c=r.city?"".concat(r.city,", ").concat(r.state):r.state),a.innerHTML='\n        <div class="mapboxgl-ctrl-geocoder--suggestion">\n          <div class="mapboxgl-ctrl-geocoder--suggestion-title">'.concat(o,'</div>\n            <div class="mapboxgl-ctrl-geocoder--suggestion-address">').concat(c!==o?c:"","</div>\n          ").concat(r.extraData?'<div class="extra-data"> '.concat(r.extraData,"</div>"):"","\n        </div>");n.isSameLocation(r,n.currentLocation)&&a.classList.add("selected"),a.addEventListener("click",function(){var e=n.getItemValue(r);n.searchInput.value=e,n.suggestionsList.innerHTML="",n.suggestionsWrapper.style.display="none",n.emit("result",e)}),s.appendChild(a),n.suggestionsList.appendChild(s)};for(s.s();!(i=s.n()).done;)a()}catch(e){s.e(e)}finally{s.f()}}},{key:"setInput",value:function(e){this.searchInput.value=e}},{key:"getLocations",value:(e=(0,r.A)(o().mark(function e(t){var n,r,i,s,a,c,u,l,d,h,p,g,f,v,y;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.APIURL||this.APIURL,c=null!==(n=this.countries)&&void 0!==n?n:"",u=null!==(r=this.types)&&void 0!==r?r:"",l=null!==(i=this.limits)&&void 0!==i?i:"",d=null!==(s=this.language)&&void 0!==s?s:"",h=this.clientName,p=this.certainLocations.join("@"),(g=new URL("".concat(a,"/v2/location/geocode-address"))).searchParams.append("location",t),g.searchParams.append("countries",c),g.searchParams.append("types",u),g.searchParams.append("limits",l),g.searchParams.append("languages",d),g.searchParams.append("clientName",h),g.searchParams.append("certainLocations",p),e.next=1,fetch(g);case 1:return f=e.sent,e.next=2,f.json();case 2:return v=e.sent,y=v.data,e.abrupt("return",y);case 3:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"addTo",value:function(e){var t=this.onAdd();document.querySelector(e).appendChild(t)}},{key:"processSuggestionList",value:function(){this.initValue&&(this.searchInput.value=this.initValue,this.searchInput.dispatchEvent(new KeyboardEvent("keyup",{key:"Enter"})))}},{key:"on",value:function(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t)}},{key:"once",value:function(e,t){var n=this,r=function(i){t(i),n.off(e,r)};this.on(e,r)}},{key:"off",value:function(e,t){var n=this.callbacks[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},{key:"emit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.callbacks[e];n&&n.forEach(function(e){return e(t)})}},{key:"query",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.searchInput.value=e,this.suggestionsList.innerHTML="",this.suggestionsWrapper.style.display="none",this.suggestedLocations&&e&&(this.closeBtn.style.display="block"),t.latitude&&(this.currentLocation=t)}}]);var e}()},54554:(e,t,n)=>{var r=n(46518),i=n(48981),s=n(35610),a=n(91291),o=n(26198),c=n(34527),u=n(96837),l=n(1469),d=n(97040),h=n(84606),p=n(70597)("splice"),g=Math.max,f=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,p,v,y,m,L=i(this),b=o(L),k=s(e,b),w=arguments.length;for(0===w?n=r=0:1===w?(n=0,r=b-k):(n=w-2,r=f(g(a(t),0),b-k)),u(b+n-r),p=l(L,r),v=0;v<r;v++)(y=k+v)in L&&d(p,v,L[y]);if(p.length=r,n<r){for(v=k;v<b-r;v++)m=v+n,(y=v+r)in L?L[m]=L[y]:h(L,m);for(v=b;v>b-r+n;v--)h(L,v-1)}else if(n>r)for(v=b-r;v>k;v--)m=v+n-1,(y=v+r-1)in L?L[m]=L[y]:h(L,m);for(v=0;v<n;v++)L[v+k]=arguments[v+2];return c(L,b-r+n),p}})},72712:(e,t,n)=>{var r=n(46518),i=n(80926).left,s=n(34598),a=n(39519);r({target:"Array",proto:!0,forced:!n(16193)&&a>79&&a<83||!s("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},80926:(e,t,n)=>{var r=n(79306),i=n(48981),s=n(47055),a=n(26198),o=TypeError,c="Reduce of empty array with no initial value",u=function(e){return function(t,n,u,l){var d=i(t),h=s(d),p=a(d);if(r(n),0===p&&u<2)throw new o(c);var g=e?p-1:0,f=e?-1:1;if(u<2)for(;;){if(g in h){l=h[g],g+=f;break}if(g+=f,e?g<0:p<=g)throw new o(c)}for(;e?g>=0:p>g;g+=f)g in h&&(l=n(l,h[g],g,d));return l}};e.exports={left:u(!1),right:u(!0)}}}]);