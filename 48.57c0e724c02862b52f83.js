"use strict";(self.webpackChunkmaia_node=self.webpackChunkmaia_node||[]).push([[48],{9048:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});n(30024),n(12826),n(34284),n(77049),n(64043),n(59749),n(86544),n(84254),n(63975);var s=n(15861),a=n(15671),i=n(43144),r=n(64687),o=n.n(r),c=(n(38077),n(60228),n(76801),n(43843),n(34338),n(6203),n(89730),n(752),n(21694),n(76265),n(78730),n(79307),n(73964),n(97195),n(62506),n(49693),n(47522),n(50783));function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}const d=function(){function e(t){(0,a.Z)(this,e);var n=t.getItemValue,s=t.placeholder,i=t.countries,r=t.types,o=t.language,c=t.minLength,l=t.limits,u=t.APIURL,d=t.clientName,p=t.certainLocations,h=t.initValue,g=t.suggestedLocations;this.getItemValue=n,this.placeholder=s,this.countries=i,this.types=r,this.language=o,this.minLength=c,this.limits=l,this.callbacks={},this.APIURL=u,this.clientName=d,this.certainLocations=null!=p?p:[],this.initValue=h,this.suggestedLocations=g}var t;return(0,i.Z)(e,[{key:"onAdd",value:function(){var e=this,t=document.createElement("div"),n=document.createElement("input"),a=document.createElement("div"),i=document.createElement("ul"),r=document.createElement("div"),l=document.createElement("button");this.searchInput=n,this.suggestionsList=i,this.suggestionsWrapper=a,this.closeBtn=l,t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl",this.searchInput.className="mapboxgl-ctrl-geocoder--input",a.className="suggestions-wrapper",i.className="suggestions",a.style.display="none";var u=document.createElement("div");return u.classList.add("suggestions-header"),u.innerHTML="\n      <span> Suggested Locations </span>\n    ",a.appendChild(u),this.searchInput.placeholder=this.placeholder,r.className="mapboxgl-ctrl-geocoder--pin-right",l.className="mapboxgl-ctrl-geocoder--button",l.title="Clear selection",l.ariaLabel="Clear selection",l.type="button",l.innerHTML='<svg class="mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-close" viewBox="0 0 18 18" xml:space="preserve" width="18" height="18"><path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"></path></svg>',t.addEventListener("click",function(){e.searchInput.focus(),e.suggestedLocations&&e.renderLocations(e.suggestedLocations)}),t.addEventListener("mouseenter",function(){e.searchInput.value&&(l.style.display="block")}),t.addEventListener("mouseleave",function(){e.suggestedLocations||(l.style.display="none")}),c.Z.isMobile()||document.addEventListener("click",function(e){var t=document.querySelector("#search-input");null!=t&&t.contains(e.target)||(a.style.display="none")}),this.searchInput.addEventListener("focus",function(){e.searchInput.value||e.processSuggestionList()}),this.searchInput.addEventListener("keyup",c.Z.debounce(function(){var t=(0,s.Z)(o().mark(function t(s){var r,c;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.searchInput.value?l.style.display="block":l.style.display="none","Escape"===s.key&&(i.innerHTML="",a.style.display="none",n.value=""),""===e.searchInput.value&&(a.style.display="none",e.processSuggestionList(),e.suggestedLocations&&e.renderLocations(e.suggestedLocations)),!(e.searchInput.value.length>=e.minLength)){t.next=15;break}return t.next=6,e.getLocations(e.searchInput.value);case 6:if(!((r=t.sent).length>0)){t.next=15;break}if(!(e.certainLocations&&e.certainLocations.length>0)){t.next=13;break}return c=r.filter(function(t){return e.certainLocations.includes(t.address)}),e.emit("results",{features:c}),e.renderLocations(c,"Enter"===s.key),t.abrupt("return");case 13:e.emit("results",{features:r}),e.renderLocations(r,"Enter"===s.key);case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),l.addEventListener("click",function(t){e.searchInput.value="",l.style.display="none",a.style.display="none",e.emit("clear"),e.emit("results",{features:[]}),e.emit("result",""),t.stopPropagation()}),a.appendChild(i),t.appendChild(this.searchInput),t.appendChild(a),r.appendChild(l),t.appendChild(r),this.processSuggestionList(),t}},{key:"isSameLocation",value:function(e,t){return!(!e.longitude||null==t||!t.longitude)&&(e.latitude===t.latitude&&e.longitude===t.longitude)}},{key:"renderLocations",value:function(e,t){var n=this;if(t){var s=this.getItemValue(e[0]);return this.searchInput.value=s,this.suggestionsList.innerHTML="",this.suggestionsWrapper.style.display="none",void this.emit("result",s)}this.suggestionsList.innerHTML="",this.suggestionsWrapper.style.display=e.length?"block":"none";var a,i=l(e);try{var r=function(){var e,t,s,i,r=a.value,o=document.createElement("li"),c=document.createElement("a"),l=r.city||r.state,u=r.state;null!==(e=n.types)&&void 0!==e&&null!==(t=e.includes)&&void 0!==t&&t.call(e,"postcode")&&(l=r.address,u=r.city?"".concat(r.city,", ").concat(r.state):r.state),null!==(s=n.types)&&void 0!==s&&null!==(i=s.includes)&&void 0!==i&&i.call(s,"address")&&(l=r.address.split(",")[0],u=r.address.split(", ").slice(1,-1).join(", ")),c.innerHTML='\n        <div class="mapboxgl-ctrl-geocoder--suggestion">\n          <div class="mapboxgl-ctrl-geocoder--suggestion-title">'.concat(l,'</div>\n            <div class="mapboxgl-ctrl-geocoder--suggestion-address">').concat(u,"</div>\n          ").concat(r.extraData?'<div class="extra-data"> '.concat(r.extraData,"</div>"):"","\n        </div>");n.isSameLocation(r,n.currentLocation)&&c.classList.add("selected"),c.addEventListener("click",function(){var e=n.getItemValue(r);n.searchInput.value=e,n.suggestionsList.innerHTML="",n.suggestionsWrapper.style.display="none",n.emit("result",e)}),o.appendChild(c),n.suggestionsList.appendChild(o)};for(i.s();!(a=i.n()).done;)r()}catch(e){i.e(e)}finally{i.f()}}},{key:"setInput",value:function(e){this.searchInput.value=e}},{key:"getLocations",value:(t=(0,s.Z)(o().mark(function e(t){var n,s,a,i,r,c,l,u,d,p,h,g,v,f,m;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.APIURL||this.APIURL,c=null!==(n=this.countries)&&void 0!==n?n:"",l=null!==(s=this.types)&&void 0!==s?s:"",u=null!==(a=this.limits)&&void 0!==a?a:"",d=null!==(i=this.language)&&void 0!==i?i:"",p=this.clientName,h=this.certainLocations.join("@"),(g=new URL("".concat(r,"/v2/location/geocode-address"))).searchParams.append("location",t),g.searchParams.append("countries",c),g.searchParams.append("types",l),g.searchParams.append("limits",u),g.searchParams.append("languages",d),g.searchParams.append("clientName",p),g.searchParams.append("certainLocations",h),e.next=17,fetch(g);case 17:return v=e.sent,e.next=20,v.json();case 20:return f=e.sent,m=f.data,e.abrupt("return",m);case 23:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"addTo",value:function(e){var t=this.onAdd();document.querySelector(e).appendChild(t)}},{key:"processSuggestionList",value:function(){this.initValue&&(this.searchInput.value=this.initValue,this.searchInput.dispatchEvent(new KeyboardEvent("keyup",{key:"Enter"})))}},{key:"on",value:function(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t)}},{key:"once",value:function(e,t){var n=this;this.on(e,function s(a){t(a),n.off(e,s)})}},{key:"off",value:function(e,t){var n=this.callbacks[e];if(n){var s=n.indexOf(t);-1!==s&&n.splice(s,1)}}},{key:"emit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.callbacks[e];n&&n.forEach(function(e){return e(t)})}},{key:"query",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.searchInput.value=e,this.suggestionsList.innerHTML="",this.suggestionsWrapper.style.display="none",this.suggestedLocations&&e&&(this.closeBtn.style.display="block"),t.latitude&&(this.currentLocation=t)}}]),e}()},5649:(e,t,n)=>{var s=n(67697),a=n(92297),i=TypeError,r=Object.getOwnPropertyDescriptor,o=s&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(a(e)&&!r(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},62506:(e,t,n)=>{var s=n(79989),a=n(90690),i=n(27578),r=n(68700),o=n(6310),c=n(5649),l=n(55565),u=n(27120),d=n(76522),p=n(98494),h=n(29042)("splice"),g=Math.max,v=Math.min;s({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,s,h,f,m,y,L=a(this),b=o(L),k=i(e,b),I=arguments.length;for(0===I?n=s=0:1===I?(n=0,s=b-k):(n=I-2,s=v(g(r(t),0),b-k)),l(b+n-s),h=u(L,s),f=0;f<s;f++)(m=k+f)in L&&d(h,f,L[m]);if(h.length=s,n<s){for(f=k;f<b-s;f++)y=f+n,(m=f+s)in L?L[y]=L[m]:p(L,y);for(f=b;f>b-s+n;f--)p(L,f-1)}else if(n>s)for(f=b-s;f>k;f--)y=f+n-1,(m=f+s-1)in L?L[y]=L[m]:p(L,y);for(f=0;f<n;f++)L[f+k]=arguments[f+2];return c(L,b-s+n),h}})}}]);